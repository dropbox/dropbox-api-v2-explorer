{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/apicalls.ts","src/codeview.ts","src/cookie.ts","src/endpoints.ts","src/main.ts","src/utils.ts","typings/tsd.d.ts"],"names":[],"mappings":"AAAA;ACAA;;GAEG;AAGH,IAAO,KAAK,WAAW,SAAS,CAAC,CAAC;AAIlC,AAGA;;GADG;IACG,YAAY,GAAG,UAAC,SAAc,EAAE,IAAoB;IACtD,IAAM,QAAQ,GAAW,IAAI,CAAC,YAAY,CAAC;IAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;QACtB,SAAS,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAC,CAAC,CAAC;IAClF,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,SAAS,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAC,CAAC,CAAC;IACnE,CAAC;AACL,CAAC,CAAA;AACD,IAAM,oBAAoB,GAAG,UAAC,SAAc,EAAE,IAAoB,EAAE,IAAY;IAC5E,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;QACtB,SAAS,CAAC,QAAQ,CAAC,EAAC,YAAY,EAC5B,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACzE,CAAC,CAAC;IACP,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,IAAM,QAAQ,GAAW,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,CAAC;QACtE,SAAS,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAC,CAAC,CAAC;QAE/D,IAAM,UAAU,GAAS,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,EAAE,0BAA0B,EAAC,CAAC,CAAC;QACvF,SAAS,CAAC,QAAQ,CAAC;YACf,WAAW,EAAO,GAAG,CAAC,eAAe,CAAC,UAAU,CAAC;YACjD,gBAAgB,EAAE,IAAI;SACzB,CAAC,CAAA;IACN,CAAC;AACL,CAAC,CAAA;AAED,AAIA;;;GADG;AACU,sBAAc,GAAG,UAAC,CAAqB,EAAE,IAAY;IAC9D,MAAM,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,KAAK,KAAK,CAAC,YAAY,CAAC,QAAQ;YAC5B,MAAM,CAAC,UAAC,SAAc,EAAE,IAAoB;uBACxC,oBAAoB,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC;YAA3C,CAA2C,CAAC;QACpD,SAAS,MAAM,CAAC,YAAY,CAAC;IACjC,CAAC;AACL,CAAC,CAAA;AAED,IAAM,WAAW,GAAG,UAAC,KAAqB,EAAE,OAAmB,EAC1C,QAAkB,EAAE,SAAc;IACnD,IAAI,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;IACnC,OAAO,CAAC,MAAM,GAAG,UAAC,CAAQ,IAAK,OAAA,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,EAA5B,CAA4B,CAAC;IAC5D,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,CAAC;IAC3C,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC;QACtB,OAAO,CAAC,gBAAgB,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;IAChD,CAAC;IACD,MAAM,CAAC,OAAO,CAAC;AACnB,CAAC,CAAA;AAED,IAAM,YAAY,GAAG,UAAC,SAAc;IAChC,SAAS,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;IACvC,SAAS,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,IAAI,EAAC,CAAC,CAAC;AAC7C,CAAC,CAAA;AAED,IAAM,UAAU,GAAG,UAAC,SAAc;IAC9B,SAAS,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;IACxC,SAAS,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,KAAK,EAAC,CAAC,CAAC;AAC9C,CAAC,CAAA;AAED,AAIA;;;GADG;AACU,kBAAU,GAAG,UAAC,IAAY,EAAE,KAAqB,EAAE,KAAa,EAClD,QAAkB,EAAE,SAAc,EAAE,IAAU;IACrE,YAAY,CAAC,SAAS,CAAC,CAAC;IAExB,IAAM,gBAAgB,GAAa,UAAC,SAAc,EAAE,IAAoB;QACpE,UAAU,CAAC,SAAS,CAAC,CAAC;QACtB,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC;IAEF,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QACjB,KAAK,KAAK,CAAC,YAAY,CAAC,OAAO;YAC3B,IAAI,OAAO,GAAG,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,gBAAgB,EAAE,SAAS,CAAC,CAAC;YAC3F,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnB,KAAK,CAAC;QACV,KAAK,KAAK,CAAC,YAAY,CAAC,MAAM;YAC1B,IAAI,OAAO,GAAG,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,EACjE,gBAAgB,EAAE,SAAS,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;gBAChB,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;gBAC9B,MAAM,CAAC,MAAM,GAAG,cAAM,OAAA,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAA3B,CAA2B,CAAC;gBAClD,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,OAAO,CAAC,IAAI,EAAE,CAAC;YACnB,CAAC;YACD,KAAK,CAAC;QACV,KAAK,KAAK,CAAC,YAAY,CAAC,QAAQ;YAC5B,IAAI,OAAO,GAAG,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,EACnE,gBAAgB,EAAE,SAAS,CAAC,CAAC;YACjC,AACA,gDADgD;YAChD,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC;YACrC,OAAO,CAAC,IAAI,EAAE,CAAC;YACf,KAAK,CAAC;IACd,CAAC;AACL,CAAC,CAAA;;;;AC5GD;;GAEG;AAEH,IAAO,KAAK,WAAW,OAAO,CAAC,CAAC;AAChC,IAAO,KAAK,WAAW,SAAS,CAAC,CAAC;AAElC,IAAM,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC;AAC/B,IAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC;AA2BpB,IAAM,eAAe,GAAG,UAAC,MAAc,EAAE,IAAuB;WACxD,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,EAAC,SAAS,EAAE,MAAM,EAAC,EAAE,IAAI,CAAC;AAA9C,CAA8C,CAAC;AAEvD,AAEA,oGAFoG;AACpG,sDAAsD;IAChD,gBAAgB,GAAG,UAAC,EAAc,EAAE,CAAmC,EAAE,GAAiB;IAAjB,mBAAiB,GAAjB,SAAiB;WAC9D,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,UAAC,CAAS,EAAE,CAAS,EAAE,CAAS;QAC9E,IAAM,QAAQ,GAAG,CAAC,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YAC/C,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;QACtB,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,EAAE,GAAG,CAAC,EAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IACpD,CAAC,CACJ;AALiC,CAKjC,CAAC;AAEF,AACA,2DAD2D;IACrD,eAAe,GAAG,UAAC,GAAQ;IAC7B,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;QACf,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;QACvB,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;AACL,CAAC,CAAA;AAED,AACA,uEADuE;IACjE,YAAY,GAAG,UAAC,IAAY,EAAE,EAAc,IAAwB,OAAA,CAAC,CAAC,IAAI,CAAC,IAAI,EACjF,IAAI,GAAG,KAAK,EACZ,CAAC,EAAE,KAAK,IAAI,CAAC;IACb,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAChB,KAAK,EACL,gBAAgB,CAAC,EAAE,EAAE,UAAC,CAAS,EAAE,CAAM,IAAK,OAAA,OAAO,GAAG,CAAC,GAAG,KAAK,GAAG,eAAe,CAAC,CAAC,CAAC,EAAxC,CAAwC,CAAC,EACrF,GAAG,CACN,EAAE,MAAM,CACZ,EARyE,CAQzE,CAAC;AAEF,AACA,qFADqF;IAC/E,WAAW,GAAG,UAAC,GAAQ,EAAE,QAAyB;IAAzB,wBAAyB,GAAzB,gBAAyB;IACpD,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC5D,EAAE,CAAC,CAAC,QAAQ,CAAC;QAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC3E,IAAI;QAAC,MAAM,CAAC,QAAQ,CAAC;AACzB,CAAC,CAAA;AAED,AACA,uEADuE;IACjE,kBAAkB,GAAG;IACvB,IAAM,MAAM,GAAG,QAAQ,CAAC;IAExB,AACA,+BAD+B;QACzB,QAAQ,GAAG,UAAC,KAAqB,IAAwB,OAAA,CAAC,CAAC,IAAI,CAAC,IAAI,EACtE,mBAAmB,EAAE,iBAAiB,EACtC,SAAS,GAAG,KAAK,CAAC,MAAM,EAAE,GAAG,OAAO,CACvC,EAH8D,CAG9D,CAAC;IAGF,IAAM,gBAAgB,GAAG,UAAC,KAAqB,EAAE,OAAmB,EAC1C,UAAoC,EAAE,IAAY;eACxE,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAC/B,QAAQ,CAAC,KAAK,CAAC,EAAE,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;IADzE,CACyE,CAAC;IAE9E,IAAM,eAAe,GAAG,UAAC,KAAqB,EAAE,KAAa,EACpC,SAAqB;eAC1C,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,EAChF,gEAAgE,CAAC;IADrE,CACqE,CAAC;IAE1E,IAAM,kBAAkB,GAAG,UAAC,KAAqB,EAAE,KAAa,EAAE,SAAqB,EAC3D,IAAU;eAClC,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAC7E,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,oBAAoB,EACjE,oDAAoD,CAAC;IAFzD,CAEyD,CAAC;IAE9D,IAAM,oBAAoB,GAAG,UAAC,KAAqB,EAAE,KAAa,EACpC,SAAqB;eAC/C,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAC7E,EAAE,EAAE,yCAAyC,CAAC;IADlD,CACkD,CAAC;IAEvD,MAAM,CAAC;QACH,MAAM,EAAc,MAAM;QAC1B,WAAW,EAAS,mCAAmC;QACvD,aAAa,EAAO,eAAe;QACnC,gBAAgB,EAAI,kBAAkB;QACtC,kBAAkB,EAAE,oBAAoB;KAC3C,CAAC;AACN,CAAC,CAAA;AAED,AACA,8DAD8D;IACxD,iBAAiB,GAAG;IACtB,IAAM,MAAM,GAAG,QAAQ,CAAC;IAExB,IAAM,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EACxB,2BAA2B,EAC3B,yCAAyC,EACzC,qCAAqC,EACrC,2CAA2C,EAC3C,wBAAwB,CAC3B,CAAC;IAEF,IAAM,eAAe,GAAG,UAAC,KAAqB,EAAE,OAAmB,EAC1C,UAAoC,EAAE,OAAe;eAC1E,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAC/B,QAAQ,EACR,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,EAChC,UAAU,EACV,+BAA+B,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,MAAM,EAC9D,qBAAqB,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,KAAK,GAAG,OAAO,GAAG,cAAc,EAC9E,qBAAqB,CACxB,CACJ;IARG,CAQH,CAAC;IAEF,IAAM,cAAc,GAAG,UAAC,KAAqB,EAAE,KAAa,EACpC,SAAqB;eACzC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAClC,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,oBAAoB,CAAC;IADxE,CACwE,CAAC;IAE7E,IAAM,iBAAiB,GAAG,UAAC,KAAqB,EAAE,KAAa,EAAE,SAAqB,EAC3D,IAAU;eACjC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAC5E,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,aAAa,EAAE,MAAM,CAAC;IADvE,CACuE,CAAC;IAE5E,IAAM,mBAAmB,GAAG,UAAC,KAAqB,EAAE,KAAa,EACpC,SAAqB;eAC9C,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC;IAA3F,CAA2F,CAAC;IAEhG,MAAM,CAAC;QACH,MAAM,EAAc,MAAM;QAC1B,WAAW,EAAS,mCAAmC;QACvD,aAAa,EAAO,cAAc;QAClC,gBAAgB,EAAI,iBAAiB;QACrC,kBAAkB,EAAE,mBAAmB;KAC1C,CAAC;AACN,CAAC,CAAA;AAED,IAAM,cAAc,GAAG;IACnB,IAAM,MAAM,GAAG,MAAM,CAAC;IACtB,IAAM,OAAO,GAAG,UAAC,KAAqB,IAAK,OAAA,eAAe,GAAG,KAAK,CAAC,MAAM,EAAE,GAAG,OAAO,EAA1C,CAA0C,CAAC;IAEtF,IAAM,WAAW,GAAG,UAAC,OAAmB,IAAwB,OAAA,CAAC,CAAC,IAAI,CAAC,IAAI,EACvE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,UAAC,CAAS,EAAE,CAAS,EAAE,CAAS;QACrD,IAAI,GAAG,GAAG,MAAM,CAAC;QACjB,EAAE,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YAAC,GAAG,GAAG,EAAE,CAAC;QACnD,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,EAAE,GAAG,CAAC,EAAC,EAAE,cAAc,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;IAC7E,CAAC,CAAC,CACL,EAN+D,CAM/D,CAAC;IAEF,AACA,oEADoE;QAC9D,YAAY,GAAG,UAAC,KAAqB,EAAE,OAAmB,EAC1C,IAAY;eAC9B,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,EAAE,WAAW,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC;IAAjF,CAAiF,CAAC;IAEtF,IAAM,WAAW,GAAG,UAAC,KAAqB,EAAE,KAAa,EAAE,SAAqB;eAE5E,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAClC,gBAAgB,GAAG,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC;IAD7D,CAC6D,CAAC;IAElE,IAAM,cAAc,GAAG,UAAC,KAAqB,EAAE,KAAa,EACpC,SAAqB,EAAE,IAAU;QACrD,IAAM,OAAO,GAAG,KAAK,CAAC,iBAAiB,CAAC,KAAK,EAAE,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC;QAC9E,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,EAC9B,wBAAwB,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC;IAC3E,CAAC,CAAA;IAED,IAAM,gBAAgB,GAAG,UAAC,KAAqB,EAAE,KAAa,EACpC,SAAqB;eAC3C,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAAtF,CAAsF,CAAC;IAE3F,MAAM,CAAC;QACH,MAAM,EAAc,MAAM;QAC1B,WAAW,EAAS,cAAc;QAClC,aAAa,EAAO,WAAW;QAC/B,gBAAgB,EAAI,cAAc;QAClC,kBAAkB,EAAE,gBAAgB;KACvC,CAAC;AACN,CAAC,CAAA;AAED,IAAM,cAAc,GAAG;IACnB,IAAM,MAAM,GAAG,MAAM,CAAC;IAEtB,IAAM,YAAY,GAAG,UAAC,KAAqB,EAAE,OAAmB,EAC1C,IAAY;eAC9B,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAC/B,OAAO,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,IAAI,EACpC,gBAAgB,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,IAAI,EAC7C,mCAAmC,EACnC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,UAAC,GAAW,EAAE,KAAa,IAAK,OAAA,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,GAAG,EAAC,EACrE,GAAG,GAAG,IAAI,GAAG,KAAK,GAAG,IAAI,CAC5B,EAFuD,CAEvD,CAAC,EACF,IAAI,CACP,CACJ;IATG,CASH,CAAC;IAEF,IAAM,WAAW,GAAG,UAAC,KAAqB,EAAE,KAAa,EAAE,SAAqB;QAE5E,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAChD,IAAM,OAAO,GAAG,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAE5C,AAGA,6DAH6D;QAC7D,iCAAiC;QAEjC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,GAAG,IAAI,CAAC,CAAC;IACrD,CAAC,CAAA;IAED,IAAM,cAAc,GAAG,UAAC,KAAqB,EAAE,KAAa,EAAE,SAAqB,EAC3D,IAAU;QAC9B,IAAM,OAAO,GAAG,KAAK,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;QAC1E,OAAO,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;QACtC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,EACd,oBAAoB,GAAG,IAAI,CAAC,IAAI,GAAG,iBAAiB,CAAC,CAAC;IAC9E,CAAC,CAAA;IAED,IAAM,gBAAgB,GAAG,UAAC,KAAqB,EAAE,KAAa,EAAE,SAAqB;QAEjF,IAAM,OAAO,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAA;QACzE,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC,CAAA;IAED,MAAM,CAAC;QACH,MAAM,EAAc,MAAM;QAC1B,WAAW,EAAS,cAAc;QAClC,aAAa,EAAO,WAAW;QAC/B,gBAAgB,EAAI,cAAc;QAClC,kBAAkB,EAAE,gBAAgB;KACvC,CAAA;AACL,CAAC,CAAA;AAEY,eAAO,GAAe;IAC/B,MAAM,EAAE,cAAc,EAAE;IACxB,UAAU,EAAE,kBAAkB,EAAE;IAChC,SAAS,EAAE,iBAAiB,EAAE;IAC9B,MAAM,EAAE,cAAc,EAAE;CAC3B,CAAA;AAEY,mBAAW,GAAG,UAAC,QAAsC,IAAwB,OAAA,CAAC,CAAC,MAAM,CAC9F,EAAC,QAAQ,EAAE,QAAQ,EAAC,EACpB,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,eAAO,EAAE,UAAC,GAAW,EAAE,EAAc;WAChD,CAAC,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAC,EAAE,EAAE,CAAC,WAAW,CAAC;AAAhD,CAAgD,CAAC,CACxD,EAJyF,CAIzF,CAAC;AAEW,cAAM,GAAG,UAAC,EAAc,EAAE,KAAqB,EAAE,KAAa,EACpD,SAAqB,EAAE,IAAU;IACpD,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;QAC5C,MAAM,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IACrD,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;QACvB,MAAM,CAAC,EAAE,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,MAAM,CAAC,EAAE,CAAC,kBAAkB,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IAC1D,CAAC;AACL,CAAC,CAAA;;;;;ACzRD;;;GAGG;AAKU,eAAO,GAAG,UAAC,GAAW,EAAE,IAAY;IAC7C,QAAQ,CAAC,MAAM,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAA;AAC9E,CAAC,CAAA;AAEY,eAAO,GAAG,UAAC,GAAW;IAC/B,IAAI,IAAI,GAAG,cAAM,EAAE,CAAC;IACpB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrB,CAAC,CAAA;AAEY,cAAM,GAAG;IAClB,IAAI,IAAI,GAAe,EAAE,CAAC;IAC1B,IAAM,OAAO,GAAa,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAEtD,OAAO,CAAC,OAAO,CAAC,UAAA,KAAK;QACjB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA,CAAC;YAClB,IAAM,KAAK,GAAa,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,IAAI,CAAC;AAChB,CAAC,CAAA;;;AC7BD,4CAA4C;AAE5C,IAAO,KAAK,WAAW,SAAS,CAAC,CAAC;AAElC,IAAM,kBAAkB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAc,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC7F,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,CACrC,CAAC;AACF,IAAM,iBAAiB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC3F,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,CACzC,CAAC;AACF,IAAM,0BAA0B,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,sBAAsB,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC7G,IAAI,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAK,CAAC,CACvC,CAAC;AACF,IAAM,mCAAmC,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,+BAA+B,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC/H,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,CACzC,CAAC;AACF,IAAM,cAAc,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,UAAU,EAAE,KAAK,CAAC,YAAY,CAAC,QAAQ,EACtF,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CACnC,CAAC;AACF,IAAM,0BAA0B,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,sBAAsB,EAAE,KAAK,CAAC,YAAY,CAAC,MAAM,EAC5G,IAAI,KAAK,CAAC,SAAS,EAAE,CACxB,CAAC;AACF,IAAM,2BAA2B,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,uBAAuB,EAAE,KAAK,CAAC,YAAY,CAAC,MAAM,EAC9G,IAAI,KAAK,CAAC,SAAS,EAAE,EACrB,IAAI,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,KAAK,CAAC,EACxC,IAAI,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,CACtC,CAAC;AACF,IAAM,2BAA2B,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,uBAAuB,EAAE,KAAK,CAAC,YAAY,CAAC,MAAM,EAC9G,IAAI,KAAK,CAAC,SAAS,EAAE,EACrB,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,EACrH,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,WAAW,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAC9Q,CAAC;AACF,IAAM,YAAY,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,YAAY,CAAC,MAAM,EAChF,IAAI,KAAK,CAAC,SAAS,EAAE,EACrB,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,WAAW,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,EACrE,IAAI,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,EACvC,IAAI,KAAK,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAC5C,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CACpC,CAAC;AACF,IAAM,YAAY,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EACjF,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,KAAK,CAAC,EACnC,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,EACjC,IAAI,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,EACvC,IAAI,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,UAAU,EAAE,sBAAsB,EAAE,kBAAkB,CAAC,EAAE,IAAI,CAAC,CAClG,CAAC;AACF,IAAM,mBAAmB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,eAAe,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC/F,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,CACrC,CAAC;AACF,IAAM,YAAY,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EACjF,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,CACrC,CAAC;AACF,IAAM,UAAU,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC7E,IAAI,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,CAAC,EACvC,IAAI,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,KAAK,CAAC,CACxC,CAAC;AACF,IAAM,UAAU,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC7E,IAAI,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,CAAC,EACvC,IAAI,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,KAAK,CAAC,CACxC,CAAC;AACF,IAAM,mBAAmB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,eAAe,EAAE,KAAK,CAAC,YAAY,CAAC,QAAQ,EAChG,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,EACxD,IAAI,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,CACrE,CAAC;AACF,IAAM,iBAAiB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE,KAAK,CAAC,YAAY,CAAC,QAAQ,EAC5F,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CACnC,CAAC;AACF,IAAM,oBAAoB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,gBAAgB,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EACjG,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CACpC,CAAC;AACF,IAAM,aAAa,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EACnF,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,EAClC,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,CACpC,CAAC;AACF,IAAM,iBAAiB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,EAC3F,IAAI,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,KAAK,CAAC,CAC3C,CAAC;AACF,IAAM,yBAAyB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,qBAAqB,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;AACjH,IAAM,qBAAqB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,iBAAiB,EAAE,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;AAE5F,oBAAY,GAAqB,CAAC,kBAAkB;IAClB,iBAAiB;IACjB,0BAA0B;IAC1B,mCAAmC;IACnC,cAAc;IACd,0BAA0B;IAC1B,2BAA2B;IAC3B,2BAA2B;IAC3B,YAAY;IACZ,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,UAAU;IACV,mBAAmB;IACnB,iBAAiB;IACjB,oBAAoB;IACpB,aAAa;IACb,iBAAiB;IACjB,yBAAyB;IACzB,qBAAqB,CAAC,CAAC;;;;AC3GtE;;;;;GAKG;;;;;;;AAEH,IAAO,KAAK,WAAW,OAAO,CAAC,CAAC;AAEhC,IAAO,SAAS,WAAW,aAAa,CAAC,CAAC;AAC1C,IAAO,KAAK,WAAW,SAAS,CAAC,CAAC;AAClC,IAAO,QAAQ,WAAW,YAAY,CAAC,CAAC;AACxC,IAAO,QAAQ,WAAW,YAAY,CAAC,CAAC;AAUxC,IAAM,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC;AAC/B,IAAO,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC;AAErB,AAEA;GADG;IACG,SAAS,GAAG,UAAC,IAAY;IAC3B,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAC,SAAS,EAAE,OAAO,EAAC,EAC5B,CAAC,CAAC,GAAG,CAAC,EAAC,SAAS,EAAE,MAAM,EAAC,EAAE,IAAI,CAAC,CACnC,CAAC;AACN,CAAC,CAAA;AASD;IAAyB,8BAAsC;IAC3D,oBAAY,KAAsB;QAAI,kBAAM,KAAK,CAAC,CAAC;QAEnD,eAAU,GAAG,UAAC,KAAsB;mBAChC,KAAK,CAAC,QAAQ,CAAoB,KAAK,CAAC,MAAO,CAAC,KAAK,CAAC;QAAtD,CAAsD,CAAC;QAE3D,gFAAgF;QAChF,iBAAY,GAAG;YACX,IAAM,KAAK,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,eAAe,EAAE,CAAC;YAC7E,IAAM,MAAM,GAAe;gBACvB,aAAa,EAAE,OAAO;gBACtB,SAAS,EAAM,iBAAiB;gBAChC,YAAY,EAAG,KAAK,CAAC,UAAU,EAAE;gBACjC,KAAK,EAAU,KAAK;aACvB,CAAA;YACD,IAAI,aAAa,GAAG,6CAA6C,CAAC;YAClE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC;gBACrB,aAAa,IAAI,kBAAkB,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;YAC3F,CAAC;YACD,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAC1C,CAAC,CAAA;IAnBmD,CAAC;IAoB9C,2BAAM,GAAb;QACI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,EACZ,SAAS,CAAC,cAAc,CAAC,EACzB,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,CAAC,CAAC,KAAK,CAAC;YACJ,IAAI,EAAU,IAAI,CAAC,KAAK,CAAC,SAAS,GAAE,MAAM,GAAG,UAAU;YACvD,EAAE,EAAY,aAAa;YAC3B,YAAY,EAAE,KAAK,CAAC,QAAQ,EAAE;YAC9B,QAAQ,EAAM,IAAI,CAAC,UAAU;YAC7B,WAAW,EAAE,iFAAiF;SACjG,CAAC,EACF,CAAC,CAAC,GAAG,CAAC,EAAC,SAAS,EAAE,aAAa,EAAC,EAC5B,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAC,EAAE,WAAW,CAAC,EACnD,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,EACrC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAE,YAAY,GAAG,YAAY,CACpD,CACJ,CACJ,CACJ,CAAC;IACN,CAAC;IACL,iBAAC;AAAD,CAzCA,AAyCC,EAzCwB,KAAK,CAAC,SAAS,EAyCvC;AAQD;IAAyB,8BAAqC;IAC1D,oBAAY,KAAsB;QADtC,iBAkCC;QAhCO,kBAAM,KAAK,CAAC,CAAC;QAGjB,0EAA0E;QAC1E,eAAU,GAAG,UAAC,KAAY;YACtB,IAAI,aAAa,GAAQ,IAAI,CAAC;YAC9B,AACA,qDADqD;YACrD,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC;gBACvC,IAAM,UAAU,GAA6B,KAAK,CAAC,MAAM,CAAC;gBAC1D,EAAE,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;oBAAC,aAAa,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACzE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAM,MAAM,GAAuC,KAAK,CAAC,MAAM,CAAC;gBAChE,KAAI,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC;gBACpC,AAGA;;mBADG;gBACH,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,EAAE,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACpD,aAAa,GAAG,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAC5D,CAAC;YACL,CAAC;YACD,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QAC9D,CAAC,CAAA;QAED,0BAAqB,GAAG,UAAC,CAAkB,EAAE,QAAoB;mBAC7D,KAAI,CAAC,KAAK,CAAC,IAAI,KAAK,QAAQ,CAAC,MAAM,CAAC;QAApC,CAAoC,CAAC;QAvBrC,IAAI,CAAC,KAAK,GAAG,EAAC,IAAI,EAAE,EAAE,EAAC,CAAC;IAC5B,CAAC;IAwBD;;MAEE;IACK,2BAAM,GAAb;QACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAC,CAAC,CAAC;IACjE,CAAC;IACL,iBAAC;AAAD,CAlCA,AAkCC,EAlCwB,KAAK,CAAC,SAAS,EAkCvC;AAYD;IAA+B,oCAAsC;IACjE,0BAAY,KAAuB;QADvC,iBAgCC;QA9BO,kBAAM,KAAK,CAAC,CAAC;QAGjB,2BAA2B;QAC3B,oBAAe,GAAG,UAAC,IAAY,EAAE,KAAU;YACvC,IAAI,SAAS,GAAe,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC9C,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC;gBAAC,OAAO,SAAS,CAAC,IAAI,CAAC,CAAC;YAC3C,IAAI;gBAAC,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;YAC7B,KAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,SAAS,EAAC,CAAC,CAAC;YACnC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAC1D,CAAC,CAAA;QACD,2BAA2B;QAC3B,gBAAW,GAAG,UAAC,KAAsB,EAAE,KAAY;YAC/C,IAAM,MAAM,GAAuC,KAAK,CAAC,MAAM,CAAC;YAChE,AACA,wFADwF;gBAClF,aAAa,GAAQ,CAAC,MAAM,CAAC,KAAK,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;gBAC/D,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;YACxC,KAAI,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QAC1D,CAAC,CAAA;QAjBG,IAAI,CAAC,KAAK,GAAG,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,EAAE,EAAC,CAAC;IAC3D,CAAC;IAiBM,iCAAM,GAAb;QAAA,iBAUC;QATG,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EACf,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,UAAC,IAAY,EAAE,KAAsB;mBACzE,EAAE,CAAC,UAAU,EAAE;gBACX,GAAG,EAAO,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI;gBAC5C,QAAQ,EAAE,KAAI,CAAC,eAAe;gBAC9B,KAAK,EAAK,KAAK;aAClB,CAAC;QAJF,CAIE,CACL,CACJ,CAAC;IACN,CAAC;IACL,uBAAC;AAAD,CAhCA,AAgCC,EAhC8B,KAAK,CAAC,SAAS,EAgC7C;AAED,AACA,qFADqF;IAC/E,iBAAiB,GAAG,UAAC,KAAsB,IAAK,OAAA,KAAK,CAAC,aAAa;IACrE,gBAAgB,GAAG,UAAU,EADqB,CACrB,CAAC;AAWlC;IAAuB,4BAAmC;IACtD,kBAAY,KAAoB;QADpC,iBAiBC;QAfO,kBAAM,KAAK,CAAC,CAAC;QAGjB,iBAAY,GAAG,UAAC,KAAsB;YAClC,IAAM,SAAS,GAAsB,KAAK,CAAC,MAAO,CAAC,KAAK,CAAC;YACzD,KAAI,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,EAAC,CAAC,CAAC;QAC5D,CAAC,CAAA;QALG,IAAI,CAAC,KAAK,GAAG,EAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,EAAC,CAAC;IACvD,CAAC;IAMM,yBAAM,GAAb;QACI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,EAAE,EAAE,WAAW,EAAC,EAC3B,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,EACtE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACtD,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAC3E,CAAC;IACN,CAAC;IACL,eAAC;AAAD,CAjBA,AAiBC,EAjBsB,KAAK,CAAC,SAAS,EAiBrC;AAaD;IAA0B,+BAAsC;IAC5D,qBAAY,KAAuB;QADvC,iBA4GC;QA1GO,kBAAM,KAAK,CAAC,CAAC;QASjB,sBAAiB,GAAG,UAAC,GAAW,EAAE,KAAU;YACxC,EAAE,CAAC,CAAC,GAAG,KAAK,UAAU,CAAC,CAAC,CAAC;gBACrB,KAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,OAAO,GAAe,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC;gBAC/C,AACA,+CAD+C;gBAC/C,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC;oBAAC,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC;gBACxC,IAAI;oBAAC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAC1B,KAAI,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,OAAO,EAAC,CAAC,CAAC;YACxC,CAAC;QACL,CAAC,CAAA;QACD;;;WAGG;QACH,8BAAyB,GAAG,UAAC,QAA0B;YACnD,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,KAAK,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YACtE,CAAC;YACD,KAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAC,IAAI,EAAC,CAAC,CAAC;QACjD,CAAC,CAAA;QACD;;;WAGG;QACH,WAAM,GAAG;YACL,IAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;YAC/B,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC;gBAChC,KAAI,CAAC,QAAQ,CAAC;oBACN,MAAM,EAAE,mFAAmF;iBAClG,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;gBAC9B,IAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAC9D,KAAK,CAAC,eAAe,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;gBACrE,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,OAAO,EACzD,KAAK,EAAE,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAChE,CAAC;QACL,CAAC,CAAA;QACD,iEAAiE;QACjE,eAAU,GAAG,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,EAAC,SAAS,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,SAAS,EAAC,CAAC,EAAjD,CAAiD,CAAC;QAErE,0CAA0C;QAC1C,mBAAc,GAAG,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAC,CAAC,EAA/C,CAA+C,CAAC;QAnDnE,IAAI,CAAC,KAAK,GAAG;YACT,SAAS,EAAI,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACpD,QAAQ,EAAK,IAAI;YACjB,MAAM,EAAO,IAAI;YACjB,SAAS,EAAI,KAAK;YAClB,QAAQ,EAAE,KAAK;SAClB,CAAC;IACN,CAAC;IA8CM,4BAAM,GAAb;QAAA,iBAmDC;QAlDG,IAAI,MAAM,GAAQ,EAAE,CAAC;QAErB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;YAC5B,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAC,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;QAClE,CAAC;QAED,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,EAAE,EAAE,cAAc,EAAC,EAC9B,CAAC,CAAC,KAAK,CAAC,EAAC,SAAS,EAAE,YAAY,EAAC,EAC7B,EAAE,CAAC,UAAU,EAAE;YACX,UAAU,EAAI,IAAI,CAAC,UAAU;YAC7B,SAAS,EAAK,IAAI,CAAC,KAAK,CAAC,SAAS;SACrC,CAAC,EACF,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,SAAS,CAAC,SAAS,CAAC,EACpB,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,CAAC,CAAC,KAAK,CAAC,EAAC,EAAE,EAAE,gBAAgB,EAAC,EAC1B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,KAAsB;mBACjD,EAAE,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;gBACzB,GAAG,EAAO,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;gBAC9C,QAAQ,EAAE,KAAI,CAAC,iBAAiB;gBAChC,KAAK,EAAK,KAAK;aAClB,CAAC;QAJF,CAIE,CAAC,CACV,EACD,CAAC,CAAC,GAAG,CAAC,IAAI,EACN,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,cAAc,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,WAAW,GAAG,WAAW,CAAC,EACzF,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,EAAE,aAAa,CAAC,EAChF,CAAC,CAAC,GAAG,CAAC;YACF,GAAG,EAAE,oEAAoE;YACzE,MAAM,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU;YAC9B,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAC;SAC1D,CAAC,EACF,MAAM,CACT,CACJ,CACJ,EACD,CAAC,CAAC,EAAE,CAAC,EAAC,MAAM,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAC,EAC/B,SAAS,CAAC,MAAM,CAAC,EACjB,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,CAAC,CAAC,GAAG,CAAC,EAAC,EAAE,EAAE,mBAAmB,EAAC,EAC3B,EAAE,CAAC,QAAQ,EAAE;YACT,GAAG,EAAQ,IAAI,CAAC,KAAK,CAAC,OAAO;YAC7B,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS;YAC/B,QAAQ,EAAG,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC9B,KAAK,EAAM,IAAI,CAAC,KAAK,CAAC,SAAS,GAAE,KAAK,CAAC,QAAQ,EAAE,GAAG,gBAAgB;SACvE,CAAC,CACL,CACJ,CACJ,CACJ,CACJ,CAAA;IACL,CAAC;IACL,kBAAC;AAAD,CA5GA,AA4GC,EA5GyB,KAAK,CAAC,SAAS,EA4GxC;AAWD;IAA6B,kCAA0C;IACnE,wBAAY,KAA0B;QAD1C,iBAUC;QAT6C,kBAAM,KAAK,CAAC,CAAC;QACvD,YAAO,GAAG,cAAM,OAAA,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAtC,CAAsC,CAAC;IADC,CAAC;IAGlD,+BAAM,GAAb;QACI,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;YAC1B,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YACtD,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAC3E,CAAC;IACN,CAAC;IACL,qBAAC;AAAD,CAVA,AAUC,EAV4B,KAAK,CAAC,SAAS,EAU3C;AASD;IAA+B,oCAA4C;IACvE,0BAAY,KAA4B;QAAI,kBAAM,KAAK,CAAC,CAAC;IAAC,CAAC;IAE3D,6CAA6C;IACtC,iCAAM,GAAb;QAAA,iBAqBC;QApBG,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC,IAAI,EAAE,SAAS,EAAC,EAC1B,CAAC,CAAC,CAAC,CAAC,EAAC,KAAK,EAAE,EAAC,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAC,EAAC,EAChD,CAAC,CAAC,CAAC,CAAC,EAAC,OAAO,EAAE,cAAM,OAAA,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,EAAzB,CAAyB,EAAC,EAC1C,CAAC,CAAC,GAAG,CAAC;YACF,GAAG,EAAQ,mFAAmF;YAC9F,KAAK,EAAM,EAAE;YACb,SAAS,EAAE,WAAW;SACzB,CAAC,CACL,CACJ,EACD,CAAC,CAAC,GAAG,CAAC,EAAC,EAAE,EAAE,eAAe,EAAC,EACzB,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,UAAC,GAAmB;mBAC7C,EAAE,CAAC,cAAc,EAAE;gBACf,GAAG,EAAU,GAAG,CAAC,IAAI;gBACrB,GAAG,EAAU,GAAG;gBAChB,WAAW,EAAE,KAAI,CAAC,KAAK,CAAC,UAAU;gBAClC,UAAU,EAAG,KAAI,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,IAAI;aAC9C,CAAC;QALF,CAKE,CAAC,CACN,CACJ,CAAC;IACN,CAAC;IACL,uBAAC;AAAD,CA1BA,AA0BC,EA1B8B,KAAK,CAAC,SAAS,EA0B7C;AASD;IAA2B,gCAAuC;IAC9D,sBAAY,KAAwB;QAChC,kBAAM,KAAK,CAAC,CAAC;IACjB,CAAC;IAEM,6BAAM,GAAb;QACI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,EAAE,EAAE,eAAe,EAAC,EAC/B,CAAC,CAAC,KAAK,CAAC,EAAC,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAC,EACtD,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,SAAS,CAAC,UAAU,CAAC,EACrB,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,CAAC,CAAC,GAAG,CAAC,EAAC,EAAE,EAAE,oBAAoB,EAAC,EAC5B,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,EAAC,SAAS,EAAE,MAAM,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CACpE,EACD,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CACzC,CACJ,CACJ,CACJ,CAAA;IACL,CAAC;IACL,mBAAC;AAAD,CApBA,AAoBC,EApB0B,KAAK,CAAC,SAAS,EAoBzC;AAQD;IAA0B,+BAAsC;IAC5D,qBAAY,KAAuB;QADvC,iBAsDC;QApDO,kBAAM,KAAK,CAAC,CAAC;QAQjB,8BAAyB,GAAG,UAAC,QAA0B,IAAK,OAAA,KAAI,CAAC,QAAQ,CAAC;YACtE,GAAG,EAAW,QAAQ,CAAC,OAAO;YAC9B,WAAW,EAAG,EAAE;YAChB,YAAY,EAAE,EAAE;SACnB,CAAC,EAJ0D,CAI1D,CAAC;QAEH,cAAS,GAAG,UAAC,UAAkB,EAAE,KAAqB,EAAE,KAAa,EACxD,UAA6B,EAAE,IAAU;YAClD,KAAI,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;YAElC,IAAM,kBAAkB,GAAsB,UAAC,SAAc,EAAE,IAAoB;gBAC/E,KAAI,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;gBACnC,UAAU,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC;YAEF,QAAQ,CAAC,UAAU,CAAC,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,kBAAkB,EAAE,KAAI,EAAE,IAAI,CAAC,CAAC;QAClF,CAAC,CAAA;QAvBG,IAAI,CAAC,KAAK,GAAG;YACT,GAAG,EAAW,IAAI,CAAC,KAAK,CAAC,OAAO;YAChC,WAAW,EAAG,EAAE;YAChB,YAAY,EAAE,EAAE;YAChB,UAAU,EAAI,KAAK;SACtB,CAAC;IACN,CAAC;IAmBM,4BAAM,GAAb;QACI,AACA,uCADuC;YACjC,cAAc,GAAsB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,EAAE,CAAC;YACrE,CAAC,CAAC,CAAC,CAAC;gBACA,IAAI,EAAM,IAAI,CAAC,KAAK,CAAC,WAAW;gBAChC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB;aACxC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YAC7D,IAAI,CAAC;QAET,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;YAChB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;YACvB,UAAU,EAAE,yBAAyB,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI;YAC3D,QAAQ,EAAE;gBACN,EAAE,CAAC,WAAW,EAAE;oBACZ,OAAO,EAAK,IAAI,CAAC,KAAK,CAAC,GAAG;oBAC1B,SAAS,EAAG,IAAI,CAAC,SAAS;oBAC1B,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU;iBACpC,CAAC;gBACF,EAAE,CAAC,YAAY,EAAE;oBACb,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,IAAI,EAAE;oBAC5D,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY;oBACrC,cAAc,EAAE,cAAc;iBACjC,CAAC;aACL,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAiB,CAAC,EAAlB,CAAkB,CAAC;SACjC,CAAC,CAAC;IACP,CAAC;IACL,kBAAC;AAAD,CAtDA,AAsDC,EAtDyB,KAAK,CAAC,SAAS,EAsDxC;AAUD;IAAuB,4BAAoC;IACvD,kBAAY,KAAoB;QAAI,kBAAM,KAAK,CAAC,CAAC;IAAC,CAAC;IAE5C,yBAAM,GAAb;QACI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EACd,EAAE,CAAC,gBAAgB,EAAE;YACjB,UAAU,EAAE,UAAC,KAAqB,IAAK,OAAA,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,EAAvC,CAAuC;YAC9E,OAAO,EAAK,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI;SACtC,CAAC,EACF,CAAC,CAAC,EAAE,CAAC,EAAC,EAAE,EAAE,QAAQ,EAAC,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAC3C,CAAC,CAAC,GAAG,CAAC,EAAC,EAAE,EAAE,cAAc,EAAC,EACtB,IAAI,CAAC,KAAK,CAAC,QAAQ,CACtB,CACJ,CAAC;IACN,CAAC;IACL,eAAC;AAAD,CAfA,AAeC,EAfsB,KAAK,CAAC,SAAS,EAerC;AAQD;IAAuB,4BAAoC;IACvD,kBAAY,KAAoB;QAAI,kBAAM,KAAK,CAAC,CAAC;IAAC,CAAC;IAE5C,yBAAM,GAAb;QACI,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;YAChB,OAAO,EAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC;YAC1C,UAAU,EAAE,sBAAsB;YAClC,QAAQ,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;SACjC,CAAC,CAAA;IACN,CAAC;IACL,eAAC;AAAD,CAVA,AAUC,EAVsB,KAAK,CAAC,SAAS,EAUrC;AAED,AACA,uEADuE;IACjE,SAAS,GAAsC,EAAE,CAAC,QAAQ,EAAE;IAC1D,OAAO,EACH,CAAC,CAAC,IAAI,CAAC,IAAI,EACP,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,sCAAsC,CAAC,EACjD,CAAC,CAAC,CAAC,CAAC,IAAI,EACJ,0DAA0D,EAC1D,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,EAAE,4CAA4C,EAAC,EAAE,gBAAgB,CAAC,EAC3E,uFAAuF,EACvF,uFAAuF,CAC1F,EACD,CAAC,CAAC,CAAC,CAAC,IAAI,EACJ,iEAAiE,EACjE,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,EAAE,0DAA0D,EAAC,EAClE,mBAAmB,CAAC,EACxB,mCAAmC,CACtC,CACJ,EAAC,CACb,CAAC;AAEF,AAIA;;;GADG;IACG,gBAAgB,GAAsC,EAAE,CAAC,QAAQ,EAAE;IACjE,OAAO,EACH,CAAC,CAAC,IAAI,CAAC,IAAI,EACP,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,sCAAsC,CAAC,EACjD,CAAC,CAAC,CAAC,CAAC,IAAI,EACJ,6DAA6D,EAC7D,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EACzC,oDAAoD,CACvD,EACD,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,iFAAiF,CAAC,CAC/F,EAAC,CACb,CAAC;AAEF,AAGA;;GADG;IACG,UAAU,GAAsC,EAAE,CAAC,QAAQ,EAAE;IAC3D,OAAO,EACH,CAAC,CAAC,IAAI,CAAC,IAAI,EACP,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,EACb,CAAC,CAAC,CAAC,CAAC,IAAI,EACJ,qFAAqF,EACrF,+DAA+D,CAClE,EACD,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,iFAAiF,CAAC,CAC/F,EAAC,CACb,CAAC;AAEF,AAIA;;;GADG;IACG,eAAe,GAAG,UAAC,IAAY;IACjC,EAAE,CAAC,CAAC,IAAI,KAAK,EAAE,IAAI,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;QACpC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;QACzB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,wBAAwB,CAAC;IACpD,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,CAAC,CAAC;QAChC,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,IAAM,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,EAAE,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;QACpF,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;YACnB,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QAClD,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QACrE,CAAC;IACL,CAAC;AACL,CAAC,CAAA;AAED,IAAM,SAAS,GAAG,UAAC,KAAa;IAC5B,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IAChC,IAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;IAC9B,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IACzB,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC;IACzC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IAClD,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,EAAG,kCAAkC;AACvE,CAAC,CAAA,EADkC;AAGnC,AAMA;;;;;GADG;IACG,IAAI,GAAG;IACT,MAAM,CAAC,YAAY,GAAG,UAAC,CAAM,IAAK,OAAA,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAvC,CAAuC,CAAC;IAE1E,IAAM,MAAM,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;IACnC,EAAE,CAAC,CAAC,OAAO,IAAI,MAAM,CAAC,CAAC,CAAC;QACpB,IAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAA;QACxC,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,cAAc,CAAC;QAC1C,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC;YACvC,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC;QAC5D,CAAC;IACL,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,MAAM,CAAC,CAAC,CAAC;QAC7B,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;IACvC,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;AACL,CAAC,CAAA;AAED,IAAI,EAAE,CAAC;;;;;;AC3mBP;;;;;;;;;;GAUG;;;;;;;AAEH,IAAO,KAAK,WAAW,OAAO,CAAC,CAAC;AAChC,IAAO,IAAI,WAAW,cAAc,CAAC,CAAC;AACtC,IAAO,MAAM,WAAW,UAAU,CAAC,CAAC;AAIpC,IAAM,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC;AAC/B,IAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC;AAEpB,AACA,sEADsE;;IACtE;IAaA,CAAC;IAVG;;;;;OAKG;IACI,SAAI,GAAG,UAAC,EAAQ,EAAE,CAAY;eACjC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,UAAC,GAAW,EAAE,CAAS,IAAK,OAAA,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAlB,CAAkB,CAAC;IAAnE,CAAmE,CAAC;IACjE,QAAG,GAAG,UAAC,EAAQ,EAAE,CAAmC;eACvD,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,UAAC,GAAW,IAAK,OAAA,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAf,CAAe,CAAC;IAArD,CAAqD,CAAC;IAC9D,WAAC;AAAD,CAbA,AAaC,IAAA;AAbY,YAAI,OAahB,CAAA;AAMD,AAIA;;;GADG;;IACH;IA6BA,CAAC;IA5BkB,wCAA2B,GAA1C;QACI,IAAI,IAAI,GAAG,MAAM,CAAC;QAClB,IAAI,CAAC;YACD,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACjC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC9B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAE;QAAA,KAAK,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC;YACR,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IAEa,oBAAO,GAArB,UAAsB,GAAW,EAAE,IAAW;QAC1C,EAAE,CAAC,CAAC,YAAY,CAAC,2BAA2B,EAAE,CAAC,CAAC,CAAC;YAC7C,cAAc,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,CAAC;YACF,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAC9B,CAAC;IACL,CAAC;IAEa,oBAAO,GAArB,UAAsB,GAAW;QAC7B,EAAE,CAAC,CAAC,YAAY,CAAC,2BAA2B,EAAE,CAAC,CAAC,CAAC;YAC7C,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,CAAC;YACF,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC/B,CAAC;IACL,CAAC;IACL,mBAAC;AAAD,CA7BA,AA6BC,IAAA;AA7BY,oBAAY,eA6BxB,CAAA;AAED,AASA;;;;;;;;GADG;AACH,WAAY,YAAY;IAAE,qDAAO,CAAA;IAAE,mDAAM,CAAA;IAAE,uDAAQ,CAAA;AAAA,CAAC,EAAxC,oBAAY,KAAZ,oBAAY,QAA4B;AAApD,IAAY,YAAY,GAAZ,oBAAwC,CAAA;AAAA,CAAC;AAErD,AAIA;;;GADG;;IAOC,kBAAY,EAAU,EAAE,IAAY,EAAE,IAAkB;QAN5D,iBAkBC;QAZ6D,gBAAsB;aAAtB,WAAsB,CAAtB,sBAAsB,CAAtB,IAAsB;YAAtB,+BAAsB;;QAOhF,gBAAW,GAAG,cAAc,OAAA,CAAC,KAAI,CAAC,IAAI,KAAK,YAAY,CAAC,OAAO,CAAC;YAC5D,wBAAwB,GAAG,oBAAoB,EADvB,CACuB,CAAC;QAEpD,gBAAW,GAAG,cAAc,OAAA,YAAY,GAAG,KAAI,CAAC,EAAE,GAAG,GAAG,GAAG,KAAI,CAAC,IAAI,EAAxC,CAAwC,CAAC;QACrE,WAAM,GAAG,cAAc,OAAA,UAAU,GAAG,KAAI,CAAC,WAAW,EAAE,GAAG,KAAI,CAAC,WAAW,EAAE,EAApD,CAAoD,CAAC;QAVxE,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;IAOL,eAAC;AAAD,CAlBA,AAkBC,IAAA;AAlBY,gBAAQ,WAkBpB,CAAA;AAED,AAGA;;GADG;;IAOC,mBAAY,IAAY,EAAE,QAAiB;QAF3C,kBAAa,GAAY,KAAK,CAAC;QAsB/B;;;;;;WAMG;QACH,aAAQ,GAAG,UAAC,CAAS,IAAU,OAAA,CAAC,EAAD,CAAC,CAAC;QACjC,iBAAY,GAAG,cAAW,OAAA,EAAE,EAAF,CAAE,CAAC;QAC7B,eAAU,GAAG,UAAC,KAAW,IAAU,OAAA,IAAI,EAAJ,CAAI,CAAC;QA5BpC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAED;;OAEG;IACH,2BAAO,GAAP,UAAQ,KAAW;QACf,IAAM,QAAQ,GAAS,IAAI,CAAC,QAAQ,GAAE,EAAC,OAAO,EAAE,EAAC,OAAO,EAAE,MAAM,EAAC,EAAC,GAAG,EAAE,CAAC;QACxE,IAAI,WAAW,GAAW,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,GAAE,IAAI,CAAC,IAAI,GAAG,gBAAgB,CAAC;QACnF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YAAC,WAAW,IAAI,aAAa,CAAC;QAChD,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,EACZ,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,WAAW,CAAC,EAC3B,CAAC,CAAC,EAAE,CAAC,IAAI,EACL,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CACzB,CACJ,CAAC;IACN,CAAC;IAYL,gBAAC;AAAD,CApCA,AAoCC,IAAA;AApCY,iBAAS,YAoCrB,CAAA;AAEY,sBAAc,GAAG,UAAC,KAAW;IACtC,KAAK,CAAC,WAAW,CAAC,GAAG,iBAAiB,CAAA;IACtC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;AACzB,CAAC,CAAA;AAED,AACA,uCADuC;;IACR,6BAAS;IACpC,mBAAY,IAAY,EAAE,QAAiB;QAAG,kBAAM,IAAI,EAAE,QAAQ,CAAC,CAAC;QACpE,eAAU,GAAG,UAAC,KAAW,IAAwB,OAAA,sBAAc,CAAC,KAAK,CAAC,EAArB,CAAqB,CAAC;IADF,CAAC;IAE1E,gBAAC;AAAD,CAHA,AAGC,EAH8B,SAAS,EAGvC;AAHY,iBAAS,YAGrB,CAAA;AAED,AACA,yCADyC;;IACX,4BAAS;IACnC,kBAAY,IAAY,EAAE,QAAiB;QAD/C,iBAKC;QAJkD,kBAAM,IAAI,EAAE,QAAQ,CAAC,CAAC;QACrE,eAAU,GAAG,UAAC,KAAW,IAAwB,OAAA,sBAAc,CAAC,KAAK,CAAC,EAArB,CAAqB,CAAC;QACvE,aAAQ,GAAG,UAAC,CAAS,IAAa,OAAA,CAAC,CAAC,KAAK,EAAE,CAAC,GAAE,KAAI,CAAC,YAAY,EAAE,GAAG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,EAAjD,CAAiD,CAAC;QACpF,iBAAY,GAAG,cAAc,OAAA,CAAC,EAAD,CAAC,CAAC;IAHsC,CAAC;IAI1E,eAAC;AAAD,CALA,AAKC,EAL6B,SAAS,EAKtC;AALY,gBAAQ,WAKpB,CAAA;AAED,AAGA;;GADG;;IAC6B,8BAAS;IACrC,oBAAY,IAAY,EAAE,QAAiB;QAD/C,iBAKC;QAJkD,kBAAM,IAAI,EAAE,QAAQ,CAAC,CAAC;QACrE,eAAU,GAAG,UAAC,KAAW,IAAwB,OAAA,sBAAc,CAAC,KAAK,CAAC,EAArB,CAAqB,CAAC;QACvE,aAAQ,GAAG,UAAC,CAAS,IAAa,OAAA,CAAC,CAAC,KAAK,EAAE,CAAC,GAAE,KAAI,CAAC,YAAY,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,EAA/C,CAA+C,CAAC;QAClF,iBAAY,GAAG,cAAc,OAAA,CAAC,EAAD,CAAC,CAAC;IAHuC,CAAC;IAI3E,iBAAC;AAAD,CALA,AAKC,EAL+B,SAAS,EAKxC;AALY,kBAAU,aAKtB,CAAA;AAED,AAMA;;;;;GADG;;IACgC,iCAAS;IAGxC,uBAAY,IAAY,EAAE,OAAiB,EAAE,QAAiB;QAHlE,iBAkBC;QAdO,kBAAM,IAAI,EAAE,QAAQ,CAAC,CAAC;QAO1B,eAAU,GAAG,UAAC,KAAW,IAAwB,OAAA,CAAC,CAAC,MAAM,CAAC,KAAK,EAC3D,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,MAAc,IAAK,OAAA,CAAC,CAAC,MAAM,CAAC;YAC1C,GAAG,EAAI,MAAM;YACb,KAAK,EAAE,MAAM;SAChB,EAAE,MAAM,CAAC,EAH2B,CAG3B,CAAC,CACd,EALgD,CAKhD,CAAC;QACF,iBAAY,GAAG,cAAc,OAAA,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAf,CAAe,CAAC;QAZzC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,4CAA4C;QAC1E,CAAC,GAD4B;IAEjC,CAAC;IASL,oBAAC;AAAD,CAlBA,AAkBC,EAlBkC,SAAS,EAkB3C;AAlBY,qBAAa,gBAkBzB,CAAA;AAED,AACA,4CAD4C;;IACb,6BAAa;IACxC,mBAAY,IAAY,EAAE,QAAiB;QACvC,kBAAM,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,CAAC;QAG7C,aAAQ,GAAG,UAAC,CAAS,IAAc,OAAA,CAAC,KAAK,MAAM,EAAZ,CAAY,CAAC;IAFhD,CAAC;IAGL,gBAAC;AAAD,CANA,AAMC,EAN8B,aAAa,EAM3C;AANY,iBAAS,YAMrB,CAAA;AAED,AAOA;;;;;;GADG;;IAC4B,6BAAS;IACpC;QACI,kBAAM,UAAU,EAAE,KAAK,CAAC,CAAC;QAG7B,eAAU,GAAG,UAAC,KAAW;YACrB,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;YACvB,MAAM,CAAC,sBAAc,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC,CAAA;IALD,CAAC;IAML,gBAAC;AAAD,CATA,AASC,EAT8B,SAAS,EASvC;AATY,iBAAS,YASrB,CAAA;AAED,AAKA;;;;GADG;;IAC8B,+BAAS;IAKtC,qBAAY,IAAY,EAAE,QAAiB;QAL/C,iBAqBC;QAfe,gBAAsB;aAAtB,WAAsB,CAAtB,sBAAsB,CAAtB,IAAsB;YAAtB,+BAAsB;;QAC9B,kBAAM,IAAI,EAAE,QAAQ,CAAC,CAAC;QAJ1B,kBAAa,GAAG,IAAI,CAAC;QASrB,iBAAY,GAAG;YACX,IAAI,QAAQ,GAAS,EAAE,CAAC;YACxB,GAAG,CAAA,CAAC,GAAG,CAAC,MAAI,IAAI,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1B,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,MAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC9B,QAAQ,CAAC,MAAI,CAAC,GAAG,KAAI,CAAC,MAAM,CAAC,MAAI,CAAC,CAAC,YAAY,EAAE,CAAC;gBACtD,CAAC;YACL,CAAC;YACD,MAAM,CAAC,QAAQ,CAAC;QACpB,CAAC,CAAA;QAZG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,MAAM,CAAC,OAAO,CAAC,UAAC,SAAoB,IAAK,OAAA,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,SAAS,EAAvC,CAAuC,CAAC,CAAC;IACtF,CAAC;IAWL,kBAAC;AAAD,CArBA,AAqBC,EArBgC,SAAS,EAqBzC;AArBY,mBAAW,cAqBvB,CAAA;AAED,AACA,2BAD2B;IACrB,oBAAoB,GAAG,mBAAmB,CAAC;AACjD,IAAM,gBAAgB,GAAG,4BAA4B,CAAC;AAEzC,uBAAe,GAAG;IAC3B,IAAM,WAAW,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,uCAAuC;IAE/E,AACA,uFADuF;QACjF,MAAM,GAAiB,MAAM,CAAC,MAAM,IAAU,MAAO,CAAC,QAAQ,CAAC;IACrE,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,eAAe,IAAI,KAAK,CAAC,CAAC,CAAC;QAC5C,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IACD,IAAI,CAAC,CAAC;QACF,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC1C,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IAED,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,EAAE,gBAAgB;IAChF,YAAY,CAAC,OAAO,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;IAClD,MAAM,CAAC,KAAK,CAAC;AACjB,CAAC,CAAA;AAEY,sBAAc,GAAG,UAAC,cAAsB;IACjD,IAAM,iBAAiB,GAAG,YAAY,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;IACrE,EAAE,CAAC,CAAC,iBAAiB,KAAK,IAAI,CAAC;QAAC,MAAM,CAAC,KAAK,CAAC;IAC7C,MAAM,CAAC,cAAc,KAAK,iBAAiB,EAAG,4CAA4C;AAC9F,CAAC,CAAA,EAD+C;AAGhD,AACA,6DAD6D;AAChD,mBAAW,GAAG;IACvB,IAAI,QAAQ,GAAS,EAAE,CAAC;IACxB,IAAI,KAAK,GAAW,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAEtD,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;QAAC,MAAM,CAAC,QAAQ,CAAC;IAElC,IAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;IACpD,IAAM,MAAM,GAAa,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACzC,MAAM,CAAC,OAAO,CAAC,UAAC,CAAS;QACrB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,kBAAkB,CAAC,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,CAAC;YACF,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAC,IAAY;gBAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAClC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClF,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,QAAQ,CAAC;AACpB,CAAC,CAAA;AAED,AACA,qEADqE;AACxD,gBAAQ,GAAG,UAAC,KAAa;WAClC,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC;AAA7C,CAA6C,CAAC;AACrC,gBAAQ,GAAG,cAAc,OAAA,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAtC,CAAsC,CAAC;AAE7E,AAGA,sDAHsD;AAEtD,gEAAgE;AACnD,mBAAW,GAAG,UAAC,IAAgB,EAAE,IAAY;IACtD,GAAG,CAAA,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QAClC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC;IACD,MAAM,CAAC,IAAI,EAAE,mBAAmB;AACpC,CAAC,CAAA,EADe;AAGhB,AAMA;;;;;GADG;AACU,qBAAa,GAAG,UAAC,GAAa;IACvC,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IACxC,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IAC7E,IAAI,QAAQ,GAAS,EAAE,CAAC;IACxB,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,KAAgB;QAChC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC;YAC/C,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QAChD,CAAC;IACL,CAAC,CAAC,CAAA;IACF,MAAM,CAAC,QAAQ,CAAC;AACpB,CAAC,CAAA;AAED,AAKA;;;;GADG;AACU,uBAAe,GAAG,UAAC,GAAa,EAAE,SAAe;IAC1D,EAAE,CAAC,CAAC,SAAS,KAAK,IAAI,IAAI,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;QAC5C,IAAI,QAAQ,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QAClD,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,eAAe,CAAC,CAAC,CAAC;YAC/B,IAAM,MAAM,GAAG,CAAC,QAAQ,IAAI,SAAS,CAAC,GAAE,SAAS,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAA;YACpE,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;QAC5E,CAAC;QACD,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAAC,IAAI;QAAC,MAAM,CAAC,EAAE,CAAC,CAAC,wCAAwC;AAC9D,CAAC,CAAA,EADoB;AAGrB,AACA,+CAD+C;AAClC,kBAAU,GAAG,cAAc,OAAA,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAArC,CAAqC,CAAA;AAEhE,wBAAgB,GAAG,UAAC,GAAgB;WAC7C,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;AAApD,CAAoD,CAAC;AAEzD,IAAM,MAAM,GAAG,UAAC,CAAS;IACrB,IAAI,CAAC;QACD,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACd,MAAM,CAAC,IAAI,CAAC;IAChB,CAAE;IAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACL,CAAC,CAAA;AAED,AACA,+DAD+D;AAClD,kBAAU,GAAG,UAAC,CAAS,IAAa,OAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAtC,CAAsC,CAAC;AAExF,AACA,oCADoC;AACvB,oBAAY,GAAG,UAAC,IAAY,EAAE,QAAgB;IACvD,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,kBAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;IAChE,IAAI;QAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EACnB,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,SAAS,GAAG,IAAI,CAAC,EAC5B,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CACzB,CAAC;AACN,CAAC,CAAA;AAGD,AACA,wFADwF;AAC3E,qBAAa,GAAG,UAAC,CAAS,IAAa,OAAA,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAC5E,UAAC,CAAS,IAAK,OAAA,KAAK,GAAC,CAAC,MAAM,GAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAArD,CAAqD,CAAC,EADrB,CACqB,CAAC;AAQ1E;IAA+B,6BAA6B;IACxD,mBAAY,KAAe;QAD/B,iBAmBC;QAjBO,kBAAM,KAAK,CAAC,CAAC;QAEjB,iBAAY,GAAG,EAAC,SAAS,EAAE,EAAE,EAAC,CAAC;QAC/B,sBAAiB,GAAG,cAAM,OAAA,KAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAAC;QAC/C,uBAAkB,GAAG,cAAM,OAAA,KAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAAC;QAEhD,kBAAa,GAAG,cAAM,OAAA,EAAE,CAAC,OAAO,CAAC,IAAI,CACjC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAChD,UAAC,IAAU,IAAK,OAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAzB,CAAyB,CAChD,EAHqB,CAGrB,CAAA;IARD,CAAC;IAUM,0BAAM,GAAb;QACI,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,EAC1C,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,EACxC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CACvB,CAAC;IACN,CAAC;IACL,gBAAC;AAAD,CAnBA,AAmBC,EAnB8B,KAAK,CAAC,SAAS,EAmB7C;AAnBY,iBAAS,YAmBrB,CAAA;AAED,AAGA,4DAH4D;AAE5D,oDAAoD;AACvC,sBAAc,GAAG,UAAC,KAAa;IACxC,MAAM,CAAC;QACH,aAAa,EAAG,SAAS,GAAG,KAAK;QACjC,cAAc,EAAE,kBAAkB;KACrC,CAAC;AACN,CAAC,CAAA;AACD,AACA,+EAD+E;AAClE,yBAAiB,GAAG,UAAC,KAAa,EAAE,IAAY;IACzD,MAAM,CAAC;QACH,aAAa,EAAM,SAAS,GAAG,KAAK;QACpC,cAAc,EAAK,0BAA0B;QAC7C,iBAAiB,EAAE,qBAAa,CAAC,IAAI,CAAC;KACzC,CAAC;AACN,CAAC,CAAA;AACY,2BAAmB,GAAG,UAAC,KAAa,EAAE,IAAY;IAC3D,MAAM,CAAC;QACH,aAAa,EAAM,SAAS,GAAG,KAAK;QACpC,iBAAiB,EAAE,qBAAa,CAAC,IAAI,CAAC;KACzC,CAAA;AACL,CAAC,CAAC;AAEW,kBAAU,GAAG,UAAC,GAAa,EAAE,KAAa,EAAE,IAAY;IACjE,MAAM,CAAA,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACd,KAAK,YAAY,CAAC,OAAO,EAAG,MAAM,CAAC,sBAAc,CAAC,KAAK,CAAC,CAAC;QACzD,KAAK,YAAY,CAAC,MAAM,EAAI,MAAM,CAAC,yBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAClE,KAAK,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,2BAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACxE,CAAC;AACL,CAAC,CAAA;;;;;AClcD","file":"all.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* This file contains a module for functions that make calls to the API and their associated\n   helper functions.\n */\n\nimport react = require('react');\nimport utils = require('./utils');\n\nexport type Callback = (component: react.Component<any, any>, req: XMLHttpRequest) => void;\n\n/* Listener functions for the API calls; since downloads have a non-JSON response, they need a\n   separate listener.\n */\nconst JSONListener = (component: any, resp: XMLHttpRequest) => {\n    const response: string = resp.responseText;\n    if (resp.status !== 200) {\n        component.setState({responseText: utils.errorHandler(resp.status, response)});\n    } else {\n        component.setState({responseText: utils.prettyJson(response)});\n    }\n}\nconst DownloadCallListener = (component: any, resp: XMLHttpRequest, path: string) => {\n    if (resp.status !== 200) {\n        component.setState({responseText:\n            utils.errorHandler(resp.status, utils.arrayBufToString(resp.response))\n        });\n    } else {\n        const response: string = resp.getResponseHeader('dropbox-api-result');\n        component.setState({responseText: utils.prettyJson(response)});\n\n        const toDownload: Blob = new Blob([resp.response], {type: 'application/octet-stream'});\n        component.setState({\n            downloadURL:      URL.createObjectURL(toDownload),\n            downloadFilename: path\n        })\n    }\n}\n\n/* Utility for determining the correct callback function given an endpoint's kind\n   Since the download listener needs to know the filename (for saving the file), it's\n   passed through this function.\n */\nexport const chooseCallback = (k: utils.EndpointKind, path: string) => {\n    switch(k) {\n        case utils.EndpointKind.Download:\n            return (component: any, resp: XMLHttpRequest) =>\n                DownloadCallListener(component, resp, path);\n        default: return JSONListener;\n    }\n}\n\nconst initRequest = (endpt: utils.Endpoint, headers: utils.Dict,\n                     listener: Callback, component: any): XMLHttpRequest => {\n    let request = new XMLHttpRequest();\n    request.onload = (_: Event) => listener(component, request);\n    request.open('POST', endpt.getURL(), true);\n    for (let key in headers) {\n        request.setRequestHeader(key, headers[key]);\n    }\n    return request;\n}\n\nconst beginRequest = (component: any) => {\n    component.setState({inProgress: true});\n    component.setState({hideResponse: true});\n}\n\nconst endRequest = (component: any) => {\n    component.setState({inProgress: false});\n    component.setState({hideResponse: false});\n}\n\n/* This function actually makes the API call. There are three different paths, based on whether\n   the endpoint is upload-like, download-like, or RPC-like.\n   The file parameter will be null unless the user specified a file on an upload-like endpoint.\n */\nexport const APIWrapper = (data: string, endpt: utils.Endpoint, token: string,\n                           listener: Callback, component: any, file: File): void => {\n    beginRequest(component);\n\n    const listener_wrapper: Callback = (component: any, resp: XMLHttpRequest) => {\n        endRequest(component);\n        listener(component, resp);\n    };\n\n    switch (endpt.kind) {\n        case utils.EndpointKind.RPCLike:\n            var request = initRequest(endpt, utils.RPCLikeHeaders(token), listener_wrapper, component);\n            request.send(data);\n            break;\n        case utils.EndpointKind.Upload:\n            var request = initRequest(endpt, utils.uploadLikeHeaders(token, data),\n                listener_wrapper, component);\n            if (file !== null) {\n                let reader = new FileReader();\n                reader.onload = () => request.send(reader.result);\n                reader.readAsArrayBuffer(file);\n            } else {\n                request.send();\n            }\n            break;\n        case utils.EndpointKind.Download:\n            var request = initRequest(endpt, utils.downloadLikeHeaders(token, data),\n                listener_wrapper, component);\n            // Binary files shouldn't be accessed as strings\n            request.responseType = 'arraybuffer';\n            request.send();\n            break;\n    }\n}\n","/* The functions that handle the code view part of the interface: taking the input and\n   representing it as an HTTP request or code to generate that request.\n */\n\nimport react = require('react');\nimport utils = require('./utils');\n\nconst ce = react.createElement;\nconst d = react.DOM;\n\ntype Renderer = (endpoint: utils.Endpoint, token: string, paramVals: utils.Dict) => react.ReactElement<{}>\ntype UploadRenderer = (endpoint: utils.Endpoint, token: string,\n                       paramVals: utils.Dict, file: File) => react.ReactElement<{}>\n\n/* Something which I wish I had more time to fix: in this file, \"upload\" and \"download\" have the wrong\n   meanings. Specifically, here, \"upload\" means a call with a file attached, and \"download\" means a\n   non-RPC-like call without a file (e.g. empty uploads and downloads). This might be confusing. I\n   originally did this because it makes more of a difference in what the code viewer looks like.\n */\n\n// An object that handles a particular kind of code view for each kind of endpoint.\ninterface CodeViewer {\n    syntax: string;\n    description: string; // text of the option in the selector\n\n    /* Calls for the three kinds of endpoints: RPC-like (data neither uploaded nor downloaded),\n       upload-like (data uploaded as the body of the request), and download-like (no data uploaded,\n       but not RPC-like). If you upload with no data, it should thus be treated as download-like, which\n       is a bit counterintuitive.\n     */\n    renderRPCLike: Renderer;\n    renderUploadLike: UploadRenderer;\n    renderDownloadLike: Renderer;\n}\n\nconst syntaxHighlight = (syntax: string, text: react.HTMLElement): react.ReactElement<{}> =>\n        ce(utils.Highlight, {className: syntax}, text);\n\n// Applies f to each element of the dict, and then appends the separator to all but the last result.\n// Subsequent list elements are separated by newlines.\nconst joinWithNewlines = (dc: utils.Dict, f: (k: string, v: string) => string, sep: string = ','):\n    react.ClassicElement<{}>[] => utils.Dict._map(dc, (k: string, v: string, i: number) => {\n        const maybeSep = (i === Object.keys(dc).length - 1)?\n            \"\\n\" : sep + \"\\n\";\n        return d.span({key: \"\" + i}, f(k, v), maybeSep);\n    }\n);\n\n// the minor differences between JSON and Python's notation\nconst pythonStringify = (val: any): string => {\n    if (val === true) {\n        return \"True\";\n    } else if (val === false) {\n        return \"False\";\n    } else if (val === null || (val !== val)) {\n        return \"None\";\n    } else {\n        return JSON.stringify(val);\n    }\n}\n\n// Representation of a dict, or null if the passed-in dict is also null\nconst dictToPython = (name: string, dc: utils.Dict): react.HTMLElement => d.span(null,\n    name + ' = ',\n    (dc === null)?\n    'None' : d.span(null,\n        '{\\n',\n        joinWithNewlines(dc, (k: string, v: any) => '    \"' + k + '\": ' + pythonStringify(v)),\n        '}'\n    ), '\\n\\n'\n);\n\n// For curl calls, we need to escape single quotes, and sometimes also double quotes.\nconst shellEscape = (val: any, inQuotes: boolean = false): string => {\n    const toReturn = JSON.stringify(val).replace(/'/g, \"'\\\\''\");\n    if (inQuotes) return toReturn.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\\\"');\n    else return toReturn;\n}\n\n// Generates the functions that make up the Python Requests code viewer\nconst RequestsCodeViewer = (): CodeViewer => {\n    const syntax = \"python\";\n\n    // common among all three parts\n    const preamble = (endpt: utils.Endpoint): react.HTMLElement => d.span(null,\n        'import requests\\n', 'import json\\n\\n',\n        'url = \"' + endpt.getURL() + '\"\\n\\n'\n    );\n\n\n    const requestsTemplate = (endpt: utils.Endpoint, headers: utils.Dict,\n                              dataReader: string|react.HTMLElement, call: string) =>\n        syntaxHighlight(syntax, d.span(null,\n            preamble(endpt), dictToPython('headers', headers), dataReader, call));\n\n    const requestsRPCLike = (endpt: utils.Endpoint, token: string,\n                             paramVals: utils.Dict): react.ReactElement<{}> =>\n        requestsTemplate(endpt, utils.RPCLikeHeaders(token), dictToPython('data', paramVals),\n            'r = requests.post(url, headers=headers, data=json.dumps(data))');\n\n    const requestsUploadLike = (endpt: utils.Endpoint, token: string, paramVals: utils.Dict,\n                                file: File): react.ReactElement<{}> =>\n        requestsTemplate(endpt, utils.uploadLikeHeaders(token, JSON.stringify(paramVals)),\n            'data = open(' + JSON.stringify(file.name) + ', \"rb\").read()\\n\\n',\n            'r = requests.post(url, headers=headers, data=data)');\n\n    const requestsDownloadLike = (endpt: utils.Endpoint, token: string,\n                                  paramVals: utils.Dict): react.ReactElement<{}> =>\n        requestsTemplate(endpt, utils.getHeaders(endpt, token, JSON.stringify(paramVals)),\n            '', 'r = requests.post(url, headers=headers)');\n\n    return {\n        syntax:             syntax,\n        description:        \"Python request (requests library)\",\n        renderRPCLike:      requestsRPCLike,\n        renderUploadLike:   requestsUploadLike,\n        renderDownloadLike: requestsDownloadLike\n    };\n}\n\n// Python's httplib library (which is also the urllib backend)\nconst HttplibCodeViewer = (): CodeViewer => {\n    const syntax = \"python\";\n\n    const preamble = d.span(null,\n        'import sys\\nimport json\\n',\n        'if (3,0) <= sys.version_info < (4,0):\\n',\n        '    import http.client as httplib\\n',\n        'elif (2,6) <= sys.version_info < (3,0):\\n',\n        '    import httplib\\n\\n'\n    );\n\n    const httplibTemplate = (endpt: utils.Endpoint, headers: utils.Dict,\n                             dataReader: string|react.HTMLElement, dataArg: string): react.ReactElement<{}> =>\n        syntaxHighlight(syntax, d.span(null,\n            preamble,\n            dictToPython('headers', headers),\n            dataReader,\n            'c = httplib.HTTPSConnection(\"' + endpt.getHostname() + '\")\\n',\n            'c.request(\"POST\", \"' + endpt.getPathname() + '\", ' + dataArg + ', headers)\\n',\n            'r = c.getresponse()'\n        )\n    );\n\n    const httplibRPCLike = (endpt: utils.Endpoint, token: string,\n                            paramVals: utils.Dict): react.ReactElement<{}> =>\n        httplibTemplate(endpt, utils.RPCLikeHeaders(token),\n                        dictToPython('params', paramVals), 'json.dumps(params)');\n\n    const httplibUploadLike = (endpt: utils.Endpoint, token: string, paramVals: utils.Dict,\n                               file: File): react.ReactElement<{}> =>\n        httplibTemplate(endpt, utils.uploadLikeHeaders(token, JSON.stringify(paramVals)),\n            'data = open(' + JSON.stringify(file.name) + ', \"rb\")\\n\\n', 'data');\n\n    const httplibDownloadLike = (endpt: utils.Endpoint, token: string,\n                                 paramVals: utils.Dict): react.ReactElement<{}> =>\n        httplibTemplate(endpt, utils.getHeaders(endpt, token, JSON.stringify(paramVals)), '', '\"\"');\n\n    return {\n        syntax:             syntax,\n        description:        \"Python request (standard library)\",\n        renderRPCLike:      httplibRPCLike,\n        renderUploadLike:   httplibUploadLike,\n        renderDownloadLike: httplibDownloadLike\n    };\n}\n\nconst CurlCodeViewer = (): CodeViewer => {\n    const syntax = 'bash';\n    const urlArea = (endpt: utils.Endpoint) => 'curl -X POST ' + endpt.getURL() + ' \\\\\\n';\n\n    const makeHeaders = (headers: utils.Dict): react.HTMLElement => d.span(null,\n        utils.Dict._map(headers, (k: string, v: string, i: number): react.HTMLElement => {\n            let sep = '\\\\\\n';\n            if (i == Object.keys(headers).length - 1) sep = '';\n            return d.span({key: \"\" + i}, \"  --header '\" + k + ': ' + v + \"' \" + sep);\n        })\n    );\n\n    // The general model of the curl call, populated with the arguments.\n    const curlTemplate = (endpt: utils.Endpoint, headers: utils.Dict,\n                          data: string): react.ReactElement<{}> =>\n        syntaxHighlight(syntax, d.span(null, urlArea(endpt), makeHeaders(headers), data));\n\n    const curlRPCLike = (endpt: utils.Endpoint, token: string, paramVals: utils.Dict):\n            react.ReactElement<{}> =>\n        curlTemplate(endpt, utils.RPCLikeHeaders(token),\n                     \"\\\\\\n  --data '\" + shellEscape(paramVals) + \"'\");\n\n    const curlUploadLike = (endpt: utils.Endpoint, token: string,\n                            paramVals: utils.Dict, file: File): react.ReactElement<{}> => {\n        const headers = utils.uploadLikeHeaders(token, shellEscape(paramVals, false));\n        return curlTemplate(endpt, headers,\n            \"\\\\\\n  --data-binary @'\" + file.name.replace(/'/g, \"'\\\\''\") + \"'\");\n    }\n\n    const curlDownloadLike = (endpt: utils.Endpoint, token: string,\n                              paramVals: utils.Dict): react.ReactElement<{}> =>\n        curlTemplate(endpt, utils.getHeaders(endpt, token, shellEscape(paramVals, false)), '');\n\n    return {\n        syntax:             syntax,\n        description:        \"curl request\",\n        renderRPCLike:      curlRPCLike,\n        renderUploadLike:   curlUploadLike,\n        renderDownloadLike: curlDownloadLike\n    };\n}\n\nconst HTTPCodeViewer = (): CodeViewer => {\n    const syntax = 'http';\n\n    const httpTemplate = (endpt: utils.Endpoint, headers: utils.Dict,\n                          body: string): react.ReactElement<{}> =>\n        syntaxHighlight(syntax, d.span(null,\n            'POST ' + endpt.getPathname() + \"\\n\",\n            'Host: https://' + endpt.getHostname() + \"\\n\",\n            'User-Agent: api-explorer-client\\n',\n            utils.Dict.map(headers, (key: string, value: string) => d.span({key: key},\n                key + \": \" + value + \"\\n\"\n            )),\n            body\n        )\n    );\n\n    const httpRPCLike = (endpt: utils.Endpoint, token: string, paramVals: utils.Dict):\n                        react.ReactElement<{}> => {\n        const body = JSON.stringify(paramVals, null, 4);\n        const headers = utils.RPCLikeHeaders(token);\n\n        // TODO: figure out how to determine the UTF-8 encoded length\n        //headers['Content-Length'] = ...\n\n        return httpTemplate(endpt, headers, \"\\n\" + body);\n    }\n\n    const httpUploadLike = (endpt: utils.Endpoint, token: string, paramVals: utils.Dict,\n                            file: File) => {\n        const headers = utils.uploadLikeHeaders(token, JSON.stringify(paramVals));\n        headers['Content-Length'] = file.size;\n        return httpTemplate(endpt, headers,\n                            \"\\n--- (content of \" + file.name + \" goes here) ---\");\n    }\n\n    const httpDownloadLike = (endpt: utils.Endpoint, token: string, paramVals: utils.Dict):\n                             react.ReactElement<{}> => {\n        const headers = utils.getHeaders(endpt, token, JSON.stringify(paramVals))\n        return httpTemplate(endpt, headers, '');\n    }\n\n    return {\n        syntax:             syntax,\n        description:        'HTTP request',\n        renderRPCLike:      httpRPCLike,\n        renderUploadLike:   httpUploadLike,\n        renderDownloadLike: httpDownloadLike\n    }\n}\n\nexport const formats: utils.Dict = {\n    'curl': CurlCodeViewer(),\n    'requests': RequestsCodeViewer(),\n    'httplib': HttplibCodeViewer(),\n    'http': HTTPCodeViewer()\n}\n\nexport const getSelector = (onChange: (e: react.FormEvent) => void): react.HTMLElement => d.select(\n    {onChange: onChange},\n    utils.Dict.map(formats, (key: string, cv: CodeViewer) =>\n        d.option({key: key, value: key}, cv.description))\n);\n\nexport const render = (cv: CodeViewer, endpt: utils.Endpoint, token: string,\n                       paramVals: utils.Dict, file: File): react.ReactElement<{}> => {\n    if (endpt.kind === utils.EndpointKind.RPCLike) {\n        return cv.renderRPCLike(endpt, token, paramVals);\n    } else if (file !== null) {\n        return cv.renderUploadLike(endpt, token, paramVals, file);\n    } else {\n        return cv.renderDownloadLike(endpt, token, paramVals);\n    }\n}\n","/* The files contains helper functions to interact with cookie storage. This will be\n   used a fallback when session/local storage is not allowed (safari private browsing\n   mode etc.)\n */\n\n\ntype StringMap = { [index: string]: string };\n\nexport const setItem = (key: string, item: string): void => {\n    document.cookie = encodeURIComponent(key) + \"=\" + encodeURIComponent(item)\n}\n\nexport const getItem = (key: string) : any => {\n    var dict = getAll();\n    return dict[key];\n}\n\nexport const getAll = (): StringMap => {\n    var dict : StringMap = {};\n    const cookies: string[] = document.cookie.split('; ');\n\n    cookies.forEach(value => {\n        if (value.length > 0){\n            const items: string[] = value.split('=');\n            dict[decodeURIComponent(items[0])] = decodeURIComponent(items[1]);\n        }\n    });\n\n    return dict;\n}","// Automatically generated code; do not edit\n\nimport utils = require('./utils');\n\nconst get_metadata_endpt = new utils.Endpoint(\"files\", \"get_metadata\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false)\n);\nconst list_folder_endpt = new utils.Endpoint(\"files\", \"list_folder\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false),\n    new utils.BoolParam(\"recursive\", true)\n);\nconst list_folder_continue_endpt = new utils.Endpoint(\"files\", \"list_folder/continue\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"cursor\", false)\n);\nconst list_folder_get_latest_cursor_endpt = new utils.Endpoint(\"files\", \"list_folder/get_latest_cursor\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false),\n    new utils.BoolParam(\"recursive\", true)\n);\nconst download_endpt = new utils.Endpoint(\"files\", \"download\", utils.EndpointKind.Download,\n    new utils.TextParam(\"path\", false),\n    new utils.TextParam(\"rev\", true)\n);\nconst upload_session_start_endpt = new utils.Endpoint(\"files\", \"upload_session/start\", utils.EndpointKind.Upload,\n    new utils.FileParam()\n);\nconst upload_session_append_endpt = new utils.Endpoint(\"files\", \"upload_session/append\", utils.EndpointKind.Upload,\n    new utils.FileParam(),\n    new utils.TextParam(\"session_id\", false),\n    new utils.IntParam(\"offset\", false)\n);\nconst upload_session_finish_endpt = new utils.Endpoint(\"files\", \"upload_session/finish\", utils.EndpointKind.Upload,\n    new utils.FileParam(),\n    new utils.StructParam(\"cursor\", false, new utils.TextParam(\"session_id\", false), new utils.IntParam(\"offset\", false)),\n    new utils.StructParam(\"commit\", false, new utils.TextParam(\"path\", false), new utils.SelectorParam(\"mode\", [\"add\", \"overwrite\", \"update\"], true), new utils.BoolParam(\"autorename\", true), new utils.TextParam(\"client_modified\", true), new utils.BoolParam(\"mute\", true))\n);\nconst upload_endpt = new utils.Endpoint(\"files\", \"upload\", utils.EndpointKind.Upload,\n    new utils.FileParam(),\n    new utils.TextParam(\"path\", false),\n    new utils.SelectorParam(\"mode\", [\"add\", \"overwrite\", \"update\"], true),\n    new utils.BoolParam(\"autorename\", true),\n    new utils.TextParam(\"client_modified\", true),\n    new utils.BoolParam(\"mute\", true)\n);\nconst search_endpt = new utils.Endpoint(\"files\", \"search\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false),\n    new utils.TextParam(\"query\", false),\n    new utils.IntParam(\"start\", true),\n    new utils.IntParam(\"max_results\", true),\n    new utils.SelectorParam(\"mode\", [\"filename\", \"filename_and_content\", \"deleted_filename\"], true)\n);\nconst create_folder_endpt = new utils.Endpoint(\"files\", \"create_folder\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false)\n);\nconst delete_endpt = new utils.Endpoint(\"files\", \"delete\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false)\n);\nconst copy_endpt = new utils.Endpoint(\"files\", \"copy\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"from_path\", false),\n    new utils.TextParam(\"to_path\", false)\n);\nconst move_endpt = new utils.Endpoint(\"files\", \"move\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"from_path\", false),\n    new utils.TextParam(\"to_path\", false)\n);\nconst get_thumbnail_endpt = new utils.Endpoint(\"files\", \"get_thumbnail\", utils.EndpointKind.Download,\n    new utils.TextParam(\"path\", false),\n    new utils.SelectorParam(\"format\", [\"jpeg\", \"png\"], true),\n    new utils.SelectorParam(\"size\", [\"xs\", \"s\", \"m\", \"l\", \"xl\"], true)\n);\nconst get_preview_endpt = new utils.Endpoint(\"files\", \"get_preview\", utils.EndpointKind.Download,\n    new utils.TextParam(\"path\", false),\n    new utils.TextParam(\"rev\", true)\n);\nconst list_revisions_endpt = new utils.Endpoint(\"files\", \"list_revisions\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false),\n    new utils.IntParam(\"limit\", true)\n);\nconst restore_endpt = new utils.Endpoint(\"files\", \"restore\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"path\", false),\n    new utils.TextParam(\"rev\", false)\n);\nconst get_account_endpt = new utils.Endpoint(\"users\", \"get_account\", utils.EndpointKind.RPCLike,\n    new utils.TextParam(\"account_id\", false)\n);\nconst get_current_account_endpt = new utils.Endpoint(\"users\", \"get_current_account\", utils.EndpointKind.RPCLike);\nconst get_space_usage_endpt = new utils.Endpoint(\"users\", \"get_space_usage\", utils.EndpointKind.RPCLike);\n\nexport const endpointList: utils.Endpoint[] = [get_metadata_endpt,\n                                               list_folder_endpt,\n                                               list_folder_continue_endpt,\n                                               list_folder_get_latest_cursor_endpt,\n                                               download_endpt,\n                                               upload_session_start_endpt,\n                                               upload_session_append_endpt,\n                                               upload_session_finish_endpt,\n                                               upload_endpt,\n                                               search_endpt,\n                                               create_folder_endpt,\n                                               delete_endpt,\n                                               copy_endpt,\n                                               move_endpt,\n                                               get_thumbnail_endpt,\n                                               get_preview_endpt,\n                                               list_revisions_endpt,\n                                               restore_endpt,\n                                               get_account_endpt,\n                                               get_current_account_endpt,\n                                               get_space_usage_endpt];\n","/* The main file, which contains the definitions of the React components for the API Explorer, as\n   well as a little bit of code that runs at startup.\n\n   Each component is defined as an ES6 class extending the ReactComponent class. First, we declare\n   the property types of the class, and then we declare the class itself.\n */\n\nimport react = require('react');\n\nimport endpoints = require('./endpoints');\nimport utils = require('./utils');\nimport apicalls = require('./apicalls');\nimport codeview = require('./codeview');\nimport ReactElement = __React.ReactElement;\nimport HTMLAttributes = __React.HTMLAttributes;\n\n// A few definitions to make code less verbose\ntype ValueHandler = (key: string, value: any) => void;\ninterface FileElement extends HTMLElement {\n    files: File[]\n}\n\nconst ce = react.createElement;\nconst  d = react.DOM;\n\n/* Element for text field in page table.\n */\nconst tableText = (text: string): HTMLAttributes => {\n    return d.td({className: 'label'},\n        d.div({className: 'text'}, text)\n    );\n}\n\n/* The TokenInput area governs the authentication token used to issue requests. The user can enter\n   a token or click to get a one, and can click another button to toggle showing/hiding the token.\n */\ninterface TokenInputProps {\n    showToken:    boolean;\n    toggleShow:   () => void\n}\nclass TokenInput extends react.Component<TokenInputProps, void> {\n    constructor(props: TokenInputProps) { super(props); }\n\n    handleEdit = (event: react.FormEvent): void =>\n        utils.putToken((<HTMLInputElement>event.target).value);\n\n    // This function handles the initial part of the OAuth2 token flow for the user.\n    retrieveAuth = () => {\n        const state = utils.getHashDict()['__ept__'] + '!' + utils.createCsrfToken();\n        const params: utils.Dict = {\n            response_type: 'token',\n            client_id:     'cg750anjts67v15',\n            redirect_uri:  utils.currentURL(),\n            state:         state,\n        }\n        let urlWithParams = 'https://www.dropbox.com/1/oauth2/authorize?';\n        for (let key in params) {\n            urlWithParams += encodeURIComponent(key) + '=' + encodeURIComponent(params[key]) + '&';\n        }\n        window.location.assign(urlWithParams);\n    }\n    public render() {\n        return d.tr(null,\n            tableText('Access Token'),\n            d.td(null,\n                d.input({\n                    type:         this.props.showToken? 'text' : 'password',\n                    id:           'token-input',\n                    defaultValue: utils.getToken(),\n                    onChange:     this.handleEdit,\n                    placeholder: 'If you don\\'t have an access token, click the \"Get Token\" button to obtain one.'\n                }),\n                d.div({className: 'align-right'},\n                    d.button({onClick: this.retrieveAuth}, 'Get Token'),\n                    d.button({onClick: this.props.toggleShow},\n                        this.props.showToken? 'Hide Token' : 'Show Token'\n                    )\n                )\n            )\n        );\n    }\n}\n\n// The ParamInput area handles the input field of a single parameter to an endpoint.\ninterface ParamInputProps {\n    key:      string;\n    onChange: ValueHandler;\n    param:    utils.Parameter\n}\nclass ParamInput extends react.Component<ParamInputProps, any> {\n    constructor(props: ParamInputProps) {\n        super(props);\n        this.state = {text: ''};\n    }\n    // When the field is edited, its value is parsed and the state is updated.\n    handleEdit = (event: Event) => {\n        let valueToReturn: any = null;\n        // special case: the target isn't an HTMLInputElement\n        if (this.props.param.name === '__file__') {\n            const fileTarget: FileElement = <FileElement>event.target;\n            if (fileTarget.files.length > 0) valueToReturn = fileTarget.files[0];\n        } else {\n            const target: HTMLInputElement = <HTMLInputElement>event.target;\n            this.setState({text: target.value});\n            /* If valueToReturn is left as null, it signals an optional value that should be\n               deleted from the dict of param values.\n             */\n            if (target.value !== '' || !this.props.param.optional) {\n                valueToReturn = this.props.param.getValue(target.value);\n            }\n        }\n        this.props.onChange(this.props.param.name, valueToReturn);\n    }\n\n    shouldComponentUpdate = (_: ParamInputProps, newState: utils.Dict) =>\n        this.state.text !== newState['text'];\n\n    /* Since different kinds of parameters have to render differently, this render method is a\n       wrapper to the parameter's own method.\n    */\n    public render() {\n        return this.props.param.asReact({onChange: this.handleEdit});\n    }\n}\n\n/* Some parameters are structs of other parameters, e.g. in upload_session/finish. In the input\n   field, structs are treated as just a list of parameters. This means we currently can't really\n   signal optional structs to the user. Moreover, nested structs are currently not possible.\n */\ninterface StructInputProps {\n    key:             string;\n    onChange:        ValueHandler;\n    param:           utils.StructParam;\n    componentEdited: ValueHandler\n}\nclass StructParamInput extends react.Component<StructInputProps, any> {\n    constructor(props: StructInputProps) {\n        super(props);\n        this.state = {fields: this.props.param.defaultValue()};\n    }\n    // Updates the whole struct\n    componentEdited = (name: string, value: any) => {\n        let newFields: utils.Dict = this.state.fields;\n        if (value === null) delete newFields[name];\n        else newFields[name] = value;\n        this.setState({fields: newFields});\n        this.props.onChange(this.props.param.name, newFields);\n    }\n    // Updates a specific field\n    fieldEdited = (param: utils.Parameter, event: Event) => {\n        const target: HTMLInputElement = <HTMLInputElement>event.target;\n        // If valueToReturn is null, it signifies that the value should be removed from the list\n        const valueToReturn: any = (target.value !== '' || !param.optional)?\n            param.getValue(target.value) : null;\n        this.props.componentEdited(param.name, valueToReturn);\n    }\n    public render() {\n        return d.tbody(null,\n            utils.Dict.map(this.props.param.fields, (name: string, value: utils.Parameter) =>\n                ce(ParamInput, {\n                    key:      this.props.param.name + '_' + name,\n                    onChange: this.componentEdited,\n                    param:    value\n                })\n            )\n        );\n    }\n}\n\n// Picks the correct React class for a parameter, depending on whether it's a struct.\nconst paramClassChooser = (param: utils.Parameter) => param.isStructParam?\n    StructParamInput : ParamInput;\n\n/* The code view section of the API Explorer. This component manages a selector which chooses what\n   format to display the code in, as well as the div that contains the code view itself.\n */\ninterface CodeAreaProps {\n    ept:       utils.Endpoint;\n    paramVals: utils.Dict;\n    __file__:  File,\n    token:     string\n}\nclass CodeArea extends react.Component<CodeAreaProps, any> {\n    constructor(props: CodeAreaProps) {\n        super(props);\n        this.state = {formatter: codeview.formats['curl']};\n    }\n    changeFormat = (event: react.FormEvent) => {\n        const newFormat = (<HTMLInputElement>event.target).value;\n        this.setState({formatter: codeview.formats[newFormat]});\n    }\n\n    public render() {\n        return d.span({id: 'code-area'},\n            d.p(null, 'View request as ', codeview.getSelector(this.changeFormat)),\n            d.span(null, codeview.render(this.state.formatter, this.props.ept, this.props.token,\n                                         this.props.paramVals, this.props.__file__))\n        );\n    }\n}\n\n/* A component handling all the main user-input areas of the document: the token area, the\n   parameter areas, and the code view. Because of this, it holds a lot of state: the token and\n   whether to show or hide it; the paramVals and file that are passed to the code viewer or\n   submitted; and any error messages.\n */\ninterface RequestAreaProps {\n    currEpt:    utils.Endpoint;\n    APICaller:  (paramsData: string, ept: utils.Endpoint, token: string,\n                 responseFn: apicalls.Callback, file: File) => void;\n    inProgress: boolean\n}\nclass RequestArea extends react.Component<RequestAreaProps, any> {\n    constructor(props: RequestAreaProps) {\n        super(props);\n        this.state = {\n            paramVals:   utils.initialValues(this.props.currEpt),\n            __file__:    null, // a signal that no file has been chosen\n            errMsg:      null,\n            showToken:   false,\n            showCode: false\n        };\n    }\n    updateParamValues = (key: string, value: any) => {\n        if (key === '__file__') {\n            this.setState({__file__: value});\n        } else {\n            let newVals: utils.Dict = this.state.paramVals;\n            // null is used as a signal to delete the value\n            if (value === null) delete newVals[key];\n            else newVals[key] = value;\n            this.setState({paramVals: newVals});\n        }\n    }\n    /* Called when a new endpoint is chosen or the user updates the token. If a new endpoint is\n       chosen, we should initialize its parameter values; if a new token is chosen, any error\n       message about the token no longer applies.\n     */\n    componentWillReceiveProps = (newProps: RequestAreaProps) => {\n        if (newProps.currEpt !== this.props.currEpt) {\n            this.setState({paramVals: utils.initialValues(newProps.currEpt)});\n        }\n        this.setState({__file__: null, errMsg:null});\n    }\n    /* Submits a call to the API. This function handles the display logic (e.g. whether or not to\n       display an error message for a missing token), and the APICaller prop actually sends the\n       request.\n     */\n    submit = () => {\n        const token = utils.getToken();\n        if (token == null || token === '') {\n            this.setState({\n                    errMsg: 'Error: missing token. Please enter a token above or click the \"Get Token\" button.'\n            });\n        } else {\n            this.setState({errMsg: null});\n            const responseFn = apicalls.chooseCallback(this.props.currEpt.kind,\n                utils.getDownloadName(this.props.currEpt, this.state.paramVals));\n            this.props.APICaller(JSON.stringify(this.state.paramVals), this.props.currEpt,\n                                token, responseFn, this.state.__file__);\n        }\n    }\n    // Toggles whether the token is hidden, or visible on the screen.\n    showOrHide = () => this.setState({showToken: !this.state.showToken});\n\n    // Toggles whether code block is visiable.\n    showOrHideCode = () => this.setState({showCode: !this.state.showCode});\n\n    public render() {\n        let errMsg: any = [];\n\n        if (this.state.errMsg != null) {\n            errMsg = [d.span({style: {color: 'red'}}, this.state.errMsg)];\n        }\n\n        return d.span({id: 'request-area'},\n            d.table({className: 'page-table'},\n                ce(TokenInput, {\n                    toggleShow:   this.showOrHide,\n                    showToken:    this.state.showToken\n                }),\n                d.tr(null,\n                    tableText('Request'),\n                    d.td(null,\n                        d.table({id: 'parameter-list'},\n                            this.props.currEpt.params.map((param: utils.Parameter) =>\n                                ce(paramClassChooser(param), {\n                                    key:      this.props.currEpt.name + param.name,\n                                    onChange: this.updateParamValues,\n                                    param:    param\n                                }))\n                        ),\n                        d.div(null,\n                            d.button({onClick: this.showOrHideCode}, this.state.showCode ? 'Hide Code' : 'Show Code'),\n                            d.button({onClick: this.submit, disabled: this.props.inProgress}, 'Submit Call'),\n                            d.img({\n                                src: 'https://www.dropbox.com/static/images/icons/ajax-loading-small.gif',\n                                hidden: !this.props.inProgress,\n                                style: {position: 'relative', top: '2px', left: '10px'}\n                            }),\n                            errMsg\n                        )\n                    )\n                ),\n                d.tr({hidden: !this.state.showCode},\n                    tableText('Code'),\n                    d.td(null,\n                        d.div({id: 'request-container'},\n                            ce(CodeArea, {\n                                ept:       this.props.currEpt,\n                                paramVals: this.state.paramVals,\n                                __file__:  this.state.__file__,\n                                token:     this.state.showToken? utils.getToken() : '<access-token>'\n                            })\n                        )\n                    )\n                )\n            )\n        )\n    }\n}\n\n/* A small component governing an endpoint on the sidebar, to bold it when it's selected and\n   handle the logic when it is clicked.\n */\ninterface EndpointChoiceProps {\n    key:         string;\n    ept:         utils.Endpoint;\n    handleClick: (ept: utils.Endpoint) => void;\n    isSelected:  boolean\n}\nclass EndpointChoice extends react.Component<EndpointChoiceProps, void> {\n    constructor(props: EndpointChoiceProps) { super(props); }\n    onClick = () => this.props.handleClick(this.props.ept);\n\n    public render() {\n        return (this.props.isSelected)?\n            d.li(null, d.b(null, this.props.ept.name), d.br(null)) :\n            d.li(null, d.a({onClick: this.onClick}, this.props.ept.name), d.br(null)\n        );\n    }\n}\n\n/* The EndpointSelector component governs the list of endpoints on the sidebar, and propagates the\n   information of which one is currently selected.\n */\ninterface EndpointSelectorProps {\n    eptChanged: (ept: utils.Endpoint) => void;\n    currEpt:    string\n}\nclass EndpointSelector extends react.Component<EndpointSelectorProps, void> {\n    constructor(props: EndpointSelectorProps) { super(props); }\n\n    // Renders the logo and the list of endpoints\n    public render() {\n        return d.div({'id': 'sidebar'},\n            d.p({style: {marginLeft: '35px', marginTop: '12px'}},\n                d.a({onClick: () => window.location.hash = ''},\n                    d.img({\n                        src:       'https://cf.dropboxstatic.com/static/images/icons/blue_dropbox_glyph-vflJ8-C5d.png',\n                        width:     36,\n                        className: 'home-icon'\n                    })\n                )\n            ),\n            d.div({id: 'endpoint-list'},\n              endpoints.endpointList.map((ept: utils.Endpoint) =>\n                ce(EndpointChoice, {\n                    key:         ept.name,\n                    ept:         ept,\n                    handleClick: this.props.eptChanged,\n                    isSelected:  this.props.currEpt == ept.name\n                }))\n            )\n        );\n    }\n}\n\n/* The React component for resposne area).\n */\ninterface ResponseAreaProps {\n    hide: boolean;\n    responseText: string;\n    downloadButton: react.HTMLElement;\n}\nclass ResponseArea extends react.Component<ResponseAreaProps, any> {\n    constructor(props: ResponseAreaProps) {\n        super(props);\n    }\n\n    public render() {\n        return d.span({id: 'response-area'},\n            d.table({className: 'page-table', hidden: this.props.hide},\n                d.tr(null,\n                    tableText('Response'),\n                    d.td(null,\n                        d.div({id: 'response-container'},\n                            ce(utils.Highlight, {className: 'json'}, this.props.responseText)\n                        ),\n                        d.div(null, this.props.downloadButton)\n                    )\n                )\n            )\n        )\n    }\n}\n\n/* The top-level React component for the API Explorer (except text-based pages, such as the intro\n   page and the error pages).\n */\ninterface APIExplorerProps {\n    initEpt:   utils.Endpoint\n}\nclass APIExplorer extends react.Component<APIExplorerProps, any> {\n    constructor(props: APIExplorerProps) {\n        super(props);\n        this.state = {\n            ept:          this.props.initEpt,\n            downloadURL:  '',\n            responseText: '',\n            inProgress:   false\n        };\n    }\n    componentWillReceiveProps = (newProps: APIExplorerProps) => this.setState({\n        ept:          newProps.initEpt,\n        downloadURL:  '',\n        responseText: ''\n    });\n\n    APICaller = (paramsData: string, endpt: utils.Endpoint, token: string,\n                 responseFn: apicalls.Callback, file: File) => {\n        this.setState({inProgress: true});\n\n        const responseFn_wrapper: apicalls.Callback = (component: any, resp: XMLHttpRequest) => {\n            this.setState({inProgress: false});\n            responseFn(component, resp);\n        };\n\n        apicalls.APIWrapper(paramsData, endpt, token, responseFn_wrapper, this, file);\n    }\n\n    public render() {\n        // This button pops up only on download\n        const downloadButton: react.HTMLElement = (this.state.downloadURL !== '')?\n            d.a({\n                href:     this.state.downloadURL,\n                download: this.state.downloadFilename\n            }, d.button(null, 'Download ' + this.state.downloadFilename)) :\n            null;\n\n        return ce(MainPage, {\n            currEpt: this.state.ept,\n            headerText: 'Dropbox API Explorer  ' + this.state.ept.name,\n            messages: [\n                ce(RequestArea, {\n                    currEpt:    this.state.ept,\n                    APICaller:  this.APICaller,\n                    inProgress: this.state.inProgress\n                }),\n                ce(ResponseArea, {\n                    hide: this.state.inProgress || this.state.responseText == '',\n                    responseText: this.state.responseText,\n                    downloadButton: downloadButton\n                })\n            ].map(t => <react.ReactNode>t)\n        });\n    }\n}\n\n/* This class renders the main page which contains endpoint selector\n   sidebar and main content page.\n */\ninterface MainPageProps {\n    currEpt: utils.Endpoint;\n    headerText: string;\n    messages: react.ReactNode[];\n}\nclass MainPage extends react.Component<MainPageProps, void> {\n    constructor(props: MainPageProps) { super(props); }\n\n    public render() {\n        return d.span(null,\n            ce(EndpointSelector, {\n                eptChanged: (endpt: utils.Endpoint) => window.location.hash = '#' + endpt.name,\n                currEpt:    this.props.currEpt.name\n            }),\n            d.h1({id: 'header'}, this.props.headerText),\n            d.div({id: 'page-content'},\n                this.props.messages\n            )\n        );\n    }\n}\n\n/* This class renders a text page (the intro page and error messages). Then, each page is an\n   instance of TextPage.\n */\ninterface TextPageProps {\n    message: react.HTMLElement;\n}\nclass TextPage extends react.Component<TextPageProps, void> {\n    constructor(props: TextPageProps) { super(props); }\n\n    public render() {\n        return ce(MainPage, {\n            currEpt:  new utils.Endpoint('', '', null),\n            headerText: 'Dropbox API Explorer',\n            messages: [this.props.message]\n        })\n    }\n}\n\n// Introductory page, which people see when they first open the webpage\nconst introPage: react.ReactElement<TextPageProps> = ce(TextPage, {\n        message:\n            d.span(null,\n                d.p(null, 'Welcome to the Dropbox API Explorer!'),\n                d.p(null,\n                    'This API Explorer is a tool to help you learn about the ',\n                    d.a({href: 'https://www.dropbox.com/developers-preview'}, 'Dropbox API v2'),\n                    \" and test your own examples. For each endpoint, you'll be able to submit an API call \",\n                    'with your own parameters and see the code for that call, as well as the API response.'\n                ),\n                d.p(null,\n                    'Click on an endpoint on your left to get started, or check out ',\n                    d.a({href: 'https://www.dropbox.com/developers-preview/documentation'},\n                        'the documentation'),\n                    ' for more information on the API.'\n                )\n            )}\n);\n\n/* The endpoint name (supplied via the URL's hash) doesn't correspond to any actual endpoint. Right\n   now, this can only happen if the user edits the URL hash.\n   React sanitizes its inputs, so displaying the hash below is safe.\n */\nconst endpointNotFound: react.ReactElement<TextPageProps> = ce(TextPage, {\n        message:\n            d.span(null,\n                d.p(null, 'Welcome to the Dropbox API Explorer!'),\n                d.p(null,\n                    \"Unfortunately, there doesn't seem to be an endpoint called \",\n                    d.b(null, window.location.hash.substr(1)),\n                    '. Try clicking on an endpoint on the left instead.'\n                ),\n                d.p(null, 'If you think you received this message in error, please get in contact with us.')\n            )}\n);\n\n/* Error when the state parameter of the hash isn't what was expected, which could be due to an\n   XSRF attack.\n */\nconst stateError: react.ReactElement<TextPageProps> = ce(TextPage, {\n        message:\n            d.span(null,\n                d.p(null, ''),\n                d.p(null,\n                    'Unfortunately, there was a problem retrieving your OAuth2 token; please try again. ',\n                    'If this error persists, you may be using an insecure network.'\n                ),\n                d.p(null, 'If you think you received this message in error, please get in contact with us.')\n            )}\n);\n\n/* The hash of the URL determines which page to render; no hash renders the intro page, and\n   'auth_error!' (the ! chosen so it's less likely to have a name clash) renders the stateError\n   page when the state parameter isn't what was expected.\n */\nconst renderGivenHash = (hash: string): void => {\n    if (hash === '' || hash === undefined) {\n        react.render(introPage, document.body);\n    } else if (hash === 'xkcd') {\n        window.location.href = 'https://xkcd.com/1481/';\n    } else if (hash === 'auth_error!') {\n        react.render(stateError, document.body);\n    } else {\n        const currEpt = utils.getEndpoint(endpoints.endpointList, decodeURIComponent(hash));\n        if (currEpt === null) {\n            react.render(endpointNotFound, document.body);\n        } else {\n            react.render(ce(APIExplorer, {initEpt: currEpt}), document.body);\n        }\n    }\n}\n\nconst checkCsrf = (state: string): string => {\n    if (state === null) return null;\n    const div = state.indexOf('!')\n    if (div < 0) return null;\n    const csrfToken = state.substring(div+1);\n    if (!utils.checkCsrfToken(csrfToken)) return null;\n    return state.substring(0, div);  // The part before the CSRF token.\n}\n\n/* Things that need to be initialized at the start.\n    1. Set up the listener for hash changes.\n    2. Process the initial hash. This only occurs when the user goes through token flow, which\n       redirects the page back to the API Explorer website, but with a hash that contains the\n       token and some extra state (to check against XSRF attacks).\n */\nconst main = (): void => {\n    window.onhashchange = (e: any) => renderGivenHash(e.newURL.split('#')[1]);\n\n    const hashes = utils.getHashDict();\n    if ('state' in hashes) { // completing token flow, and checking the state is OK\n        const state = checkCsrf(hashes['state'])\n        if (state === null) {\n            window.location.hash = '#auth_error!';\n        } else {\n            utils.putToken(hashes['access_token']);\n            window.location.href = utils.currentURL() + '#' + state;\n        }\n    } else if ('__ept__' in hashes) { // no token, but an endpoint selected\n        renderGivenHash(hashes['__ept__']);\n    } else { // no endpoint selected: render the intro page\n        react.render(introPage, document.body);\n    }\n}\n\nmain();\n","/* This file contains utility functions needed by the other modules. These can be grouped into the\n   following broad categories:\n\n   - Definitions of the Endpoint and Parameter classes, and the various Parameter subclasses\n     corresponding to the different kinds of parameters\n   - Utilities for token flow: getting and setting state, and retrieving or storing the token in\n     session storage\n   - Utilities for processing user input in order to submit it\n   - A React class for highlighting the code view and response parts of the document\n   - Functions to generate the headers for a given API call\n */\n\nimport react = require('react');\nimport hljs = require('highlight.js');\nimport cookie = require('./cookie');\n\ntype MappingFn = (key: string, value: any, i: number) => react.ClassicElement<{}>;\n\nconst ce = react.createElement;\nconst d = react.DOM;\n\n// This class mostly exists to help Typescript type-check my programs.\nexport class Dict {\n    [index: string]: any;\n    \n    /* Two methods for mapping through dictionaries, customized to the API Explorer's use case.\n       - _map takes function from a key, a value, and an index to a React element, and\n       - map is the same, but without an index.\n       These are used, for example, to convert a dict of HTTP headers into its representation\n       in code view.\n     */\n    static _map = (dc: Dict, f: MappingFn): react.ClassicElement<{}>[] =>\n        Object.keys(dc).map((key: string, i: number) => f(key, dc[key], i));\n    static map = (dc: Dict, f: (key: string, value: any) => any): react.ClassicElement<{}>[] =>\n        Object.keys(dc).map((key: string) => f(key, dc[key]));\n}\n// Useful for composites such as StructParam\ninterface ParamDict {\n    [index: string]: Parameter\n}\n\n/* Helper class which deal with local storage. If session storage is allowed, items\n   will be written to session storage. If session storage is disabled (e.g. safari\n   private browsing mode), cookie storage will be used as fallback.\n */\nexport class LocalStorage {\n    private static _is_session_storage_allowed(): boolean {\n        var test = 'test';\n        try {\n            localStorage.setItem(test, test);\n            localStorage.removeItem(test);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    }\n\n    public static setItem(key: string, data:string) : void {\n        if (LocalStorage._is_session_storage_allowed()) {\n            sessionStorage.setItem(key, data);\n        }\n        else {\n            cookie.setItem(key, data);\n        }\n    }\n\n    public static getItem(key: string) : any {\n        if (LocalStorage._is_session_storage_allowed()) {\n            return sessionStorage.getItem(key);\n        }\n        else {\n            return cookie.getItem(key);\n        }\n    }\n}\n\n/* There are three kinds of endpoints, and a lot of the program logic depends on what kind of\n   endpoint is currently being shown.\n    - An RPC-like endpoint involves no uploading or downloading of data; it sends a request\n      with JSON data in the body, and receives a JSON response. Example: get_metadata\n    - An upload-like endpoint sends file data in the body and the arguments in a header, but\n      receives a JSON response. Example: upload\n    - A download-style endpoint sends a request with JSON data, but receives the file in the\n      response body. Example: get_thumbnail\n */\nexport enum EndpointKind {RPCLike, Upload, Download};\n\n/* A class with all the information about an endpoint: its name and namespace; its kind\n   (as listed above), and its list of parameters. The endpoints are all initialized in\n   endpoints.ts, which is code-generated.\n */\nexport class Endpoint {\n    name: string;\n    ns: string; // namespace, e.g. users or files\n    kind: EndpointKind;\n    params: Parameter[]; // the arguments to the API call\n\n    constructor(ns: string, name: string, kind: EndpointKind, ...params: Parameter[]) {\n        this.ns = ns;\n        this.name = name;\n        this.kind = kind;\n        this.params = params;\n    }\n\n    getHostname = (): string => (this.kind !== EndpointKind.RPCLike)?\n        'content.dropboxapi.com' : 'api.dropboxapi.com';\n\n    getPathname = (): string => '/2-beta-2/' + this.ns + '/' + this.name;\n    getURL = (): string => 'https://' + this.getHostname() + this.getPathname();\n}\n\n/* A parameter to an API endpoint. This class is abstract, as different kinds of parameters\n   (e.g. text, integer) will implement it differently.\n */\nexport class Parameter {\n    name: string;\n    optional: boolean;\n\n    isStructParam: boolean = false;\n\n    constructor(name: string, optional: boolean) {\n        this.name = name;\n        this.optional = optional;\n    }\n\n    /* Renders the parameter's input field, using another method which depends on the\n       parameter's subclass.\n     */\n    asReact(props: Dict): react.HTMLElement {\n        const nameArgs: Dict = this.optional? {'style': {'color': '#999'}} : {};\n        let displayName: string = (this.name !== '__file__')? this.name : 'File to upload';\n        if (this.optional) displayName += ' (optional)';\n        return d.tr(null,\n            d.td(nameArgs, displayName),\n            d.td(null,\n                this.innerReact(props)\n            )\n        );\n    }\n\n    /* Each subclass will implement these abstract methods differently.\n        - getValue should parse the value in the string and return the (typed) value for that\n          parameter. For example, integer parameters will use parseInt here.\n        - defaultValue should return the initial value if the endpoint is required (e.g.\n          0 for integers, '' for strings).\n        - innerReact determines how to render the input field for a parameter.\n     */\n    getValue = (s: string): any => s;\n    defaultValue = (): any => \"\";\n    innerReact = (props: Dict): any => null;\n}\n\nexport const parameterInput = (props: Dict) => {\n    props['className'] = 'parameter-input'\n    return d.input(props)\n}\n\n// A parameter whose value is a string.\nexport class TextParam extends Parameter {\n    constructor(name: string, optional: boolean) {super(name, optional); }\n    innerReact = (props: Dict): react.HTMLElement => parameterInput(props);\n}\n\n// A parameter whose value is an integer.\nexport class IntParam extends Parameter {\n    constructor(name: string, optional: boolean) { super(name, optional);}\n    innerReact = (props: Dict): react.HTMLElement => parameterInput(props);\n    getValue = (s: string): number => (s === '')? this.defaultValue() : parseInt(s, 10);\n    defaultValue = (): number => 0;\n}\n\n/* A parameter whose value is a float.\n   This isn't currently used in our API, but could be in the future.\n */\nexport class FloatParam extends Parameter {\n    constructor(name: string, optional: boolean) { super(name, optional); }\n    innerReact = (props: Dict): react.HTMLElement => parameterInput(props);\n    getValue = (s: string): number => (s === '')? this.defaultValue() : parseFloat(s);\n    defaultValue = (): number => 0;\n}\n\n/* An enumerated type, e.g. simple unions or booleans.\n   TODO: more complicated unions (i.e. of more than just unit types) are currently not\n   supported. For example, the mode argument to the upload endpoint has a union of two\n   void types and a string; we would like to be able to support these, but haven't gotten\n   around to it yet.\n */\nexport class SelectorParam extends Parameter {\n    choices: string[];\n\n    constructor(name: string, choices: string[], optional: boolean) {\n        super(name, optional);\n        this.choices = choices;\n        if (this.optional) {\n            this.choices.unshift(''); // signals leaving an optional parameter out\n        }\n    }\n\n    innerReact = (props: Dict): react.HTMLElement => d.select(props,\n        this.choices.map((choice: string) => d.option({\n            key:   choice,\n            value: choice\n        }, choice))\n    );\n    defaultValue = (): string => this.choices[0];\n}\n\n// Booleans are selectors for true or false.\nexport class BoolParam extends SelectorParam {\n    constructor(name: string, optional: boolean) {\n        super(name, ['false', 'true'], optional);\n    }\n\n    getValue = (s: string): boolean => s === 'true';\n}\n\n/* Upload-style endpoints accept data to upload. This is implemented as a special parameter\n   to each endpoint, with the special name __file__. However, it's not technically an\n   argument to its endpoint: the file is handled separately from the other parameters, since\n   its contents are treated as data.\n   Note that, since the name is fixed, only one file parameter can be used per endpoint right\n   now.\n */\nexport class FileParam extends Parameter {\n    constructor() {\n        super('__file__', false);\n    }\n\n    innerReact = (props: Dict): react.HTMLElement => {\n        props['type'] = 'file';\n        return parameterInput(props);\n    }\n}\n\n/* A few parameters are structs whose fields are other parameters. The user will just see the\n   fields as if they were top-level parameters, but the backend collects them into one\n   dictionary.\n   TODO: can structs be optional? If so, how do I hint this to the user?\n */\nexport class StructParam extends Parameter {\n    fields: ParamDict;\n\n    isStructParam = true;\n\n    constructor(name: string, optional: boolean,\n                ...fields: Parameter[]) {\n        super(name, optional);\n        this.fields = {};\n        fields.forEach((nextField: Parameter) => this.fields[nextField.name] = nextField);\n    }\n\n    defaultValue = (): Dict => {\n        let toReturn: Dict = {};\n        for(let name in this.fields) {\n            if (!this.fields[name].optional) {\n                toReturn[name] = this.fields[name].defaultValue();\n            }\n        }\n        return toReturn;\n    }\n}\n\n// Utilities for token flow\nconst csrfTokenStorageName = 'Dropbox_API_state';\nconst tokenStorageName = 'Dropbox_API_explorer_token';\n\nexport const createCsrfToken = (): string => {\n    const randomBytes = new Uint8Array(18); // multiple of 3 avoids base-64 padding\n\n    // If available, use the cryptographically secure generator, otherwise use Math.random.\n    const crypto: RandomSource = window.crypto || (<any>window).msCrypto;\n    if (crypto && crypto.getRandomValues && false) {\n        crypto.getRandomValues(randomBytes);\n    }\n    else {\n        for (let i = 0; i < randomBytes.length; i++) {\n            randomBytes[i] = Math.floor(Math.random() * 256);\n        }\n    }\n\n    var token = btoa(String.fromCharCode.apply(null, randomBytes)); // base64-encode\n    LocalStorage.setItem(csrfTokenStorageName, token);\n    return token;\n}\n\nexport const checkCsrfToken = (givenCsrfToken: string): boolean => {\n    const expectedCsrfToken = LocalStorage.getItem(csrfTokenStorageName);\n    if (expectedCsrfToken === null) return false;\n    return givenCsrfToken === expectedCsrfToken;  // TODO: timing attack in string comparison?\n}\n\n// A utility to read the URL's hash and parse it into a dict.\nexport const getHashDict = (): Dict => {\n    let toReturn: Dict = {};\n    let index: number = window.location.href.indexOf('#');\n\n    if (index === -1) return toReturn;\n\n    const hash = window.location.href.substr(index + 1);\n    const hashes: string[] = hash.split('#');\n    hashes.forEach((s: string) => {\n        if (s.indexOf('&') == -1) toReturn['__ept__'] = decodeURIComponent(s);\n        else {\n            s.split('&').forEach((pair: string) => {\n                const splitPair = pair.split('=');\n                toReturn[decodeURIComponent(splitPair[0])] = decodeURIComponent(splitPair[1]);\n            });\n        }\n    });\n    return toReturn;\n}\n\n// Reading and writing the token, which is preserved in LocalStorage.\nexport const putToken = (token: string): void =>\n    LocalStorage.setItem(tokenStorageName, token);\nexport const getToken = (): string => LocalStorage.getItem(tokenStorageName);\n\n// Some utilities that help with processing user input\n\n// Returns an endpoint given its name, or null if there was none\nexport const getEndpoint = (epts: Endpoint[], name: string): Endpoint => {\n    for(let i = 0; i < epts.length; i++) {\n        if (epts[i].name === name) return epts[i];\n    }\n    return null; // signals an error\n}\n\n/* Returns the intial values for the parameters of an endpoint. Specifically, the non-optional\n   parameters' initial values are put into the paramVals dictionary. This ensures that the\n   required parameters are never missing when the 'submit' button is pressed.\n   If there are no parameters (except possibly a file), then the dict should be null rather\n   than an empty dict.\n */\nexport const initialValues = (ept: Endpoint): Dict => {\n    if (ept.params.length == 0) return null;\n    if (ept.params.length == 1 && ept.params[0].name === '__file__') return null;\n    let toReturn: Dict = {};\n    ept.params.forEach((param: Parameter) => {\n        if (!param.optional && param.name !== '__file__') {\n            toReturn[param.name] = param.defaultValue();\n        }\n    })\n    return toReturn;\n}\n\n/* For a download endpoint, this function calculates the filename that the data should be saved\n   as. First, it takes the basename of the 'path' argument, and then changes the extension for\n   the get_thumbnail endpoint (which is a special case).\n   This function assumes every download-style endpoint has a parameter named 'path.'\n */\nexport const getDownloadName = (ept: Endpoint, paramVals: Dict): string => {\n    if (paramVals !== null && 'path' in paramVals) {\n        let toReturn = paramVals['path'].split('/').pop();\n        if (ept.name === 'get_thumbnail') {\n            const format = ('format' in paramVals)? paramVals['format'] : 'jpeg'\n            toReturn = toReturn.substr(0, toReturn.lastIndexOf('.')) + '.' + format;\n        }\n        return toReturn;\n    } else return ''; // not a download-style endpoint anyways\n}\n\n// Returns the current URL without any fragment\nexport const currentURL = (): string => window.location.href.split('#', 1)[0]\n\nexport const arrayBufToString = (buf: ArrayBuffer) =>\n    String.fromCharCode.apply(null, new Uint8Array(buf));\n\nconst isJson = (s: string): boolean => {\n    try {\n        JSON.parse(s);\n        return true;\n    } catch (_) {\n        return false;\n    }\n}\n\n// Applies pretty-printing to JSON data serialized as a string.\nexport const prettyJson = (s: string): string => JSON.stringify(JSON.parse(s), null, 2);\n\n// common message for error handling\nexport const errorHandler = (stat: number, response: string): react.HTMLElement => {\n    if (isJson(response)) return d.code(null, prettyJson(response));\n    else return d.span(null,\n        d.h4(null, \"Error: \" + stat),\n        d.code(null, response)\n    );\n}\n\n    \n// Since HTTP headers cannot contain arbitrary Unicode characters, we must replace them.\nexport const escapeUnicode = (s: string): string => s.replace(/[\\u007f-\\uffff]/g,\n    (c: string) => '\\\\u'+('0000'+c.charCodeAt(0).toString(16)).slice(-4));\n\n// Used to get highlight.js to syntax-highlight the codeview and response areas.\n// Source: https://github.com/akiran/react-highlight/blob/master/src/index.jsx\ninterface HltProps {\n    className: string;\n    children: react.ClassicElement<{}>\n}\nexport class Highlight extends react.Component<HltProps, {}> {\n    constructor(props: HltProps) {\n        super(props);\n    }\n    defaultProps = {className: \"\"};\n    componentDidMount = () => this.highlightCode();\n    componentDidUpdate = () => this.highlightCode();\n\n    highlightCode = () => [].forEach.call(\n        react.findDOMNode(this).querySelectorAll('pre code'),\n            (node: Node) => hljs.highlightBlock(node)\n    )\n\n    public render() {\n        return d.pre({className: this.props.className},\n            d.code({className: this.props.className},\n            this.props.children)\n        );\n    }\n}\n\n// Utility functions for getting the headers for an API call\n\n// The headers for an RPC-like endpoint HTTP request\nexport const RPCLikeHeaders = (token: string): Dict => {\n    return {\n        Authorization:  \"Bearer \" + token,\n        \"Content-Type\": \"application/json\"\n    };\n}\n// args may need to be modified by the client, so they're passed in as a string\nexport const uploadLikeHeaders = (token: string, args: string): Dict => {\n    return {\n        Authorization:     \"Bearer \" + token,\n        \"Content-Type\":    \"application/octet-stream\",\n        \"Dropbox-API-Arg\": escapeUnicode(args)\n    };\n}\nexport const downloadLikeHeaders = (token: string, args: string): Dict => {\n    return {\n        Authorization:     \"Bearer \" + token,\n        \"Dropbox-API-Arg\": escapeUnicode(args)\n    }\n};\n\nexport const getHeaders = (ept: Endpoint, token: string, args: string): Dict => {\n    switch(ept.kind) {\n        case EndpointKind.RPCLike:  return RPCLikeHeaders(token);\n        case EndpointKind.Upload:   return uploadLikeHeaders(token, args);\n        case EndpointKind.Download: return downloadLikeHeaders(token, args);\n    }\n}\n","/// <reference path=\"highlightjs/highlightjs.d.ts\" />\n/// <reference path=\"react/react.d.ts\" />"]}